<!DOCTYPE html>
<html class=" fxov idc0_350"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>no title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    .markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.emoji{height:.8em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}
    /* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

    </style>
    <link rel="stylesheet" href="file:////Users/catimc/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.19/crossnote/dependencies/katex/katex.min.css">
    <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
  
  
    <div class="crossnote markdown-preview">
    <div>
<center>
<p><img src="data:image/png;charset=utf-8;base64,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" alt="Portada"></p>
<h1 id="práctica-5-bases-de-datos-clave-valor-redis" ebook-toc-level-1="" heading="Práctica 5. Bases de datos clave-valor. Redis ">Práctica 5. Bases de datos clave-valor. Redis </h1>
<br>
<p><img src="data:image/png;charset=utf-8;base64,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" alt="Portada"></p>
</center>
<hr>

<div class="md-toc">
<div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:18px">
          <a href="#práctica-5-bases-de-datos-clave-valor-redis" class="md-toc-link">
            <p>Práctica 5. Bases de datos clave-valor. Redis</p>

          </a></div><details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#objetivos-generales-de-la-práctica" class="md-toc-link"><p>Objetivos generales de la práctica</p>
</a>
          </summary>
        <div>
          <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-instalación-de-redis" class="md-toc-link"><ol>
<li>Instalación de Redis</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-utilizando-docker" class="md-toc-link">
            <p>1.1 Utilizando Docker</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#12-en-linux" class="md-toc-link">
            <p>1.2 En Linux</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#13-en-windows" class="md-toc-link">
            <p>1.3 En Windows</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#2-primeros-comandos" class="md-toc-link">
            <ol start="2">
<li>Primeros comandos</li>
</ol>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-trabajando-con-estructuras-de-datos-en-redis" class="md-toc-link"><ol start="3">
<li>Trabajando con estructuras de datos en Redis</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-strings" class="md-toc-link">
            <p>3.1 Strings</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#32-listas" class="md-toc-link">
            <p>3.2 Listas</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#33-sets" class="md-toc-link">
            <p>3.3 Sets</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#34-sorted-set" class="md-toc-link">
            <p>3.4 Sorted Set</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#35-hash" class="md-toc-link">
            <p>3.5 Hash</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejercicio-1-lista-de-tareas" class="md-toc-link">
            <p>Ejercicio 1: Lista de Tareas</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#4-persistencia" class="md-toc-link"><ol start="4">
<li>Persistencia</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#41-simulando-la-persistencia-y-recuperación-de-datos-con-rdb" class="md-toc-link">
            <p>4.1 Simulando la persistencia y recuperación de datos con RDB</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#42-simulando-la-persistencia-y-recuperación-de-datos-con-aof" class="md-toc-link">
            <p>4.2 Simulando la persistencia y recuperación de datos con AOF</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-redis-como-caché" class="md-toc-link">
            <ol start="5">
<li>Redis como caché</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-importando-datos-de-forma-masiva-csv" class="md-toc-link">
            <ol start="5">
<li>Importando datos de forma masiva (CSV)</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#6-modelo-publicación--suscripción" class="md-toc-link">
            <ol start="6">
<li>Modelo Publicación / Suscripción</li>
</ol>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#7-redis-con-nestjs-como-sistema-de-caché" class="md-toc-link"><ol start="7">
<li>Redis con NestJS como sistema de caché</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#71-instalación-de-nestjs-y-creación-de-un-proyecto" class="md-toc-link">
            <p>7.1	Instalación de NestJS y creación de un proyecto</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#72-integración-con-redis" class="md-toc-link"><p>7.2. Integración con Redis</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#721-creación-del-recurso-sessions" class="md-toc-link">
            <p>7.2.1 Creación del recurso <em>sessions</em></p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#722-implementar-el-servicio-de-sesiones" class="md-toc-link">
            <p>7.2.2 Implementar el servicio de Sesiones</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#723-implementar-el-controlador-de-sesiones" class="md-toc-link">
            <p>7.2.3 Implementar el controlador de Sesiones</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#724-probamos-nuestra-aplicación" class="md-toc-link">
            <p>7.2.4 Probamos nuestra aplicación</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#ejercicio-adicional" class="md-toc-link">
            <p>Ejercicio adicional</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#anexo-i" class="md-toc-link">
            <p>ANEXO I</p>

          </a></div>
        </div>
      </details>
    
</div>
<hr>
<h1 id="objetivos-generales-de-la-práctica" ebook-toc-level-1="" heading="Objetivos generales de la práctica ">Objetivos generales de la práctica </h1>
<ul>
<li>Adquirir habilidades prácticas en la instalación, configuración y manejo de Redis</li>
<li>Comprender y aplicar los comandos básicos y avanzados de Redis</li>
<li>Simular el uso de Redis como sistema de caché</li>
<li>Aprender sobre la persistencia de Redis</li>
<li>Modelo de Pub/Sub en Redis</li>
<li>Integración de Redis en NestJS</li>
</ul>
<h2 id="1-instalación-de-redis" ebook-toc-level-2="" heading="1. Instalación de Redis ">1. Instalación de Redis </h2>
<h3 id="11-utilizando-docker" ebook-toc-level-3="" heading="1.1 Utilizando Docker ">1.1 Utilizando Docker </h3>
<p>Utilizaremos la tecnología Docker para instalarnos la última versión 
disponible de Redis. A continuación se indican los pasos a seguir:</p>
<ul>
<li>Nos descargamos una imagen del repositorio de Docker <a href="https://hub.docker.com/">DockerHub</a></li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> pull redis:latest
</code></pre><ul>
<li>Creamos una carpeta donde guardaremos los datos</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">mkdir</span> <span class="token environment constant">$HOME</span>/Desktop/redis
</code></pre><ul>
<li>Ejecutamos la imagen como un contenedor</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> –-name my-redis <span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">-v</span>  <span class="token environment constant">$HOME</span>/Desktop/redis:/data/db redis:latest
</code></pre><table>
<thead>
<tr>
<th>Comando</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>--name</td>
<td>Indica el nombre del docker en el sistema</td>
</tr>
<tr>
<td>-d</td>
<td>Ejecuta el contenedor en segundo plano</td>
</tr>
<tr>
<td>-v</td>
<td>Gestionamos el volumen del contenedor. Pasamos (mount) una carpeta del host al contenedor</td>
</tr>
<tr>
<td>-p</td>
<td>Exponemos el puerto de nuestro ordenador que será redirigido al puerto del contenedor</td>
</tr>
</tbody>
</table>
<ul>
<li>Entramos en la consola de redis cli (command-line-interface)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> my-redis redis-cli
</code></pre><ul>
<li>Ejecuta el comando ping para asegurarte de que el servidor de Redis está funcionando. Si todo va bien, debe mostrarte PONG.</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">ping</span>
</code></pre><h3 id="12-en-linux" ebook-toc-level-3="" heading="1.2 En Linux ">1.2 En Linux </h3>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">apt</span> <span class="token function">install</span> redis-server redis-tools
</code></pre><p>Para ejecutar cli</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>redis-cli
</code></pre><p>Alternativamente también podéis instalar la extensión para <a href="https://redis.io/docs/latest/develop/connect/redis-for-vscode/">VS CODE</a></p>
<h3 id="13-en-windows" ebook-toc-level-3="" heading="1.3 En Windows ">1.3 En Windows </h3>
<p>Los que usáis Widows recomiendo usar docker. Si no es posible seguir las siguientes instrucciones:</p>
<p><a href="https://redis.com/blog/redis-on-windows-10/">https://redis.com/blog/redis-on-windows-10/</a></p>
<h2 id="2-primeros-comandos" ebook-toc-level-2="" heading="2. Primeros comandos ">2. Primeros comandos </h2>
<p>Aquí tenéis la documentación oficial con todos los <a href="https://redis.io/docs/latest/commands/">comandos</a>. A continuación empezaremos con algunos básicos.</p>
<ul>
<li>Utilizamos SET para crear 5 claves diferentes con distintos tipos de valores (texto, números, JSON como string)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET clave1 <span class="token string">"Esto es un texto"</span>
SET clave2 <span class="token number">100</span>
SET clave3 <span class="token number">3.14159</span>
SET clave4 <span class="token string">"{<span class="token entity" title="\&quot;">\"</span>nombre<span class="token entity" title="\&quot;">\"</span>:<span class="token entity" title="\&quot;">\"</span>John<span class="token entity" title="\&quot;">\"</span>, <span class="token entity" title="\&quot;">\"</span>edad<span class="token entity" title="\&quot;">\"</span>:30, <span class="token entity" title="\&quot;">\"</span>ciudad<span class="token entity" title="\&quot;">\"</span>:<span class="token entity" title="\&quot;">\"</span>New York<span class="token entity" title="\&quot;">\"</span>}"</span>
SET clave5 <span class="token string">"true"</span>
</code></pre><ul>
<li>Recupera los valores de esas claves con GET</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>GET clave1
GET clave2
GET clave3
GET clave4
GET clave5
</code></pre><ul>
<li>Comprueba la existencia de una clave con EXISTS. Pregunta también por una clave que no hayas creado</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>EXISTS clave1 <span class="token comment"># Debería retornar 1, ya que la clave existe</span>
EXISTS claveNoExistente <span class="token comment"># Debería retornar 0, ya que la clave no existe</span>
</code></pre><ul>
<li>Elimina una de las claves con DEL y verifica que ha sido eliminada con EXISTS</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>DEL clave1
EXISTS clave1 <span class="token comment"># Debería retornar 0, ya que la clave ha sido eliminada</span>
</code></pre><ul>
<li>Añade múltiples claves siguiendo un patrón en el nombre de la clave (e.g. user:1, user:2, etc.)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET user:1 <span class="token string">"User Data 1"</span>
SET user:2 <span class="token string">"User Data 2"</span>
SET user:3 <span class="token string">"User Data 3"</span>
</code></pre><ul>
<li>Utiliza KEYS para listar todas las claves que sigan ese patrón</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>KEYS user:*
</code></pre><ul>
<li>Uiliza SCAN para listar todas las claves</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SCAN <span class="token number">0</span> MATCH user:* COUNT <span class="token number">3</span>
</code></pre><ul>
<li>Elimina todas las claves</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>DEL user:1 user:2 user:3
</code></pre><p>En este caso hemos tenido que enumerar todas las claves.
 Si queremos borrarlas según un patrón lo tenemos que hacer desde el 
bash utilizando DEL (síncrono) ó UNLINK (asíncrono, no bloqueante). Lo 
primero que haremos será buscar las claves que coincidan con el patrón. 
Usaremos <em>SCAN</em> ya que es no bloqueante, frente a <em>KEYS</em>. A continuación pasa las claves encontradas por <em>SCAN</em>* al comando UNLINK* xargs. <em>xargs -L 1</em> asegura que <em>UNLINK</em> se ejecute una vez por cada clave, eliminándola de manera asíncrona.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>redis-cli <span class="token parameter variable">--scan</span> <span class="token parameter variable">--pattern</span> <span class="token string">'user:*'</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-L</span> <span class="token number">1</span> redis-cli unlink
</code></pre><p>O desde docker:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> nombre-contenedor redis-cli <span class="token parameter variable">--scan</span> <span class="token parameter variable">--pattern</span> <span class="token string">'user:*'</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-L</span> <span class="token number">1</span> <span class="token parameter variable">-I</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> nombre-contenedor redis-cli unlink <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><p>También podemos borrarlas todas utilizando <em>FLUSHALL</em>. Cuidado con su uso porque borraremos todos los datos de todas las bases de datos</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>FLUSHALL
</code></pre><h2 id="3-trabajando-con-estructuras-de-datos-en-redis" ebook-toc-level-2="" heading="3. Trabajando con estructuras de datos en Redis ">3. Trabajando con estructuras de datos en Redis </h2>
<p>Exploraremos cómo trabajar con distintas estructuras de datos en <em>Redis</em>: strings, lists, sets, sorted sets y hashes. Vamos a realizar operaciones comunes en cada una de estas estructuras.</p>
<h3 id="31-strings" ebook-toc-level-3="" heading="3.1 Strings ">3.1 Strings </h3>
<p>Los <a href="https://redis.io/docs/latest/develop/data-types/strings/">STRINGS</a>
 son el tipo más báscio en Redis. Se puede usar para almacenar valores 
que son cadenas de texto pero también para almacenar datos numéricos.</p>
<p>Vamos a practicar con algunos comandos básicos:</p>
<ul>
<li>Insertar un string</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET user1:name <span class="token string">"John Doe"</span>
SET user2:name Cati
</code></pre><ul>
<li>Obtener el valor a partir de la clave</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>GET user1:name 
</code></pre><ul>
<li>Incrementar en uno un número almacenado en un String</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET user1:counter <span class="token number">100</span>
INCR user1:counter 
</code></pre><ul>
<li>Obtener una descripción del comando INCR</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HELP INCR
</code></pre><ul>
<li>Concatena una cadena de texto a otra</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>APPEND user1:name <span class="token string">" Martinez"</span>
</code></pre><h3 id="32-listas" ebook-toc-level-3="" heading="3.2 Listas ">3.2 Listas </h3>
<p>Las <a href="https://redis.io/docs/latest/develop/data-types/lists/">listas</a>, <em>LISTS</em>  son colecciones de strings ordenadas por el orden de inserción. Son particularmente útiles para implementar colas o pilas.</p>
<ul>
<li>Comandos básicos</li>
</ul>
<ul>
<li>LPUSH añade un nuevo elemento al inicio de una lista; RPUSH lo añade al final.</li>
<li>LPOP elimina y devuelve un elemento desde el inicio de una lista; RPOP hace lo mismo, pero desde el final de la lista.</li>
<li>LLEN devuelve la longitud de una lista.</li>
<li>LMOVE mueve elementos de una lista a otra de forma atómica.</li>
<li>LRANGE obtiene un rango de elementos de una lista.</li>
<li>LTRIM reduce una lista al rango especificado de elementos.</li>
</ul>
<p>Vamos a practicar con algunos de estos comandos:</p>
<ul>
<li>Añade elementos en una lista por la derecha</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>RPUSH <span class="token function">users</span> <span class="token string">"Ana"</span> <span class="token string">"Barbara"</span> <span class="token string">"Cati"</span> <span class="token string">"Teresa"</span>
</code></pre><ul>
<li>Obtén todos los elementos de la lista. Con '-1' indicamos que los 
queremos todos independientemente de tamaño ya que '-1' indica el último
 número de la lista</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LRANGE <span class="token function">users</span> <span class="token number">0</span> <span class="token parameter variable">-1</span>
</code></pre><p>También podríamos haber indicado el índice del último elemento, si conocemos el número de elementos</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LRANGE <span class="token function">users</span> <span class="token number">0</span> <span class="token number">3</span>
</code></pre><ul>
<li>Obtén solo el segundo y tercer elemento de la lista</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LRANGE <span class="token function">users</span> <span class="token number">1</span> <span class="token number">2</span>
</code></pre><ul>
<li>Obtén la longitud de la lista</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LLEN <span class="token function">users</span>
</code></pre><ul>
<li>Elimina el primer elemento de la lista (Ana)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LPOP <span class="token function">users</span>
</code></pre><ul>
<li>Elimina el último elemento de la lista (Teresa)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>RPOP <span class="token function">users</span>
</code></pre><ul>
<li>Vuelve a insertar a Ana y Teresa utilizando LPUSH</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LPUSH <span class="token function">users</span> Ana
LPUSH <span class="token function">users</span> Teresa
</code></pre><ul>
<li>Inserta otra vez a Ana por la derecha. Puedes observar como en las listas pueden existir duplicados</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>RPUSH <span class="token function">users</span> Ana
</code></pre><ul>
<li>Borra todos los elementos "Ana" de la lista. Recuerda que con listas
 es más eficiente borrar el primer y último elemento. Para tamaños muy 
grandes es mejor utilizar conjuntos ordenados (SORTED SET)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LREM <span class="token function">users</span> <span class="token number">2</span> Ana
</code></pre><ul>
<li>Quédate solo con los dos últimos elementos de la lista y borra el resto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LTRIM <span class="token function">users</span> <span class="token parameter variable">-2</span> <span class="token parameter variable">-1</span>
</code></pre><ul>
<li>Obten el segundo elemento de la lista sin borrarlo</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LINDEX <span class="token function">users</span> <span class="token number">1</span>
</code></pre><ul>
<li>Obtén la posición de uno de los elementos de la lista</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>LPOS <span class="token function">users</span> Cati
</code></pre><h3 id="33-sets" ebook-toc-level-3="" heading="3.3 Sets ">3.3 Sets </h3>
<p>Los <a href="https://redis.io/docs/latest/develop/data-types/sets/">conjutos</a>, <em>SETS</em> son colecciones no ordenadas de strings que no tienen elementos repetidos.</p>
<ul>
<li>Comandos básicos</li>
</ul>
<ul>
<li>SADD añade un nuevo miembro a un conjunto.</li>
<li>SREM elimina el miembro especificado del conjunto.</li>
<li>SISMEMBER verifica si un elemento pertenece a un conjunto.</li>
<li>SINTER devuelve el conjunto de miembros que dos o más conjuntos tienen en común (es decir, la intersección).</li>
<li>SCARD devuelve el tamaño (también llamado cardinalidad) de un conjunto.</li>
</ul>
<p>Vamos a practicar con algunos de estos comandos:</p>
<ul>
<li>Añadir elementos a un SET</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SADD colors red blue yellow green
</code></pre><ul>
<li>Obtener todos los elementos de un SET</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SMEMBERS colors
</code></pre><ul>
<li>Mirar si un elemento está en el set</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SISMEMBER colors red
</code></pre><ul>
<li>Obtén el número de elementos del conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="cbash" class="language-cbash cbash"><code>SCARD colors
</code></pre><ul>
<li>Borra varios elementos del conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SREM colors blue yellow
</code></pre><ul>
<li>Crea otro SET y haz la intersección entre ambos</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SADD anothercolorset black yellow red blue purple
SINTER colors anothercolorset
</code></pre><h3 id="34-sorted-set" ebook-toc-level-3="" heading="3.4 Sorted Set ">3.4 Sorted Set </h3>
<p>Los <a href="https://redis.io/docs/latest/develop/data-types/sorted-sets/">Sorted Set</a> son conjuntos ordenados donde cada elemento tiene asociada una puntucación por la que se ordenan.<br>
Puedes pensar en los conjuntos ordenados como una combinación entre un conjunto <em>Set</em> y un <em>hash</em>.
 Al igual que los conjuntos, los conjuntos ordenados están compuestos de
 elementos String únicos y no repetidos, por lo que, en cierto sentido, 
un conjunto ordenado es también un conjunto. Sin embargo, mientras que 
los elementos dentro de un conjunto no tienen orden, cada elemento en un
 conjunto ordenado está asociado a un valor de punto flotante, llamado 
score o puntuación (por esto, este tipo también es similar a un hash, ya
 que cada elemento se mapea a un valor).</p>
<p>Vamos a practicar con algunos comandos básicos:</p>
<ul>
<li>Añadir elementos a un SORTED SET</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZADD <span class="token function">users</span> <span class="token number">1</span> Cati <span class="token number">4</span> Ana <span class="token number">2</span> Barbara <span class="token number">9</span> Teresa 
</code></pre><ul>
<li>Devuelve el número de elementos del conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZCARD <span class="token function">users</span>
</code></pre><ul>
<li>Devuelve todos los elementos del conjunto en orden ascendente de 
puntuación. Con WITHSCORES indicamos que también nos devuelva la 
puntuación</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZRANGE <span class="token function">users</span> <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
</code></pre><ul>
<li>Devuelve todos los elementos del conjunto en orden descendente de puntuación</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZREVRANGE <span class="token function">users</span> <span class="token number">0</span> <span class="token parameter variable">-1</span> WITHSCORES
</code></pre><ul>
<li>Devuelve los elementos en un rango de puntuación determinado</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZRANGEBYSCORE <span class="token function">users</span> <span class="token number">4</span> <span class="token number">10</span> 
</code></pre><ul>
<li>Cuenta los elementos dentro de un rango de puntuación</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZCOUNT <span class="token function">users</span> <span class="token number">4</span> <span class="token number">10</span> 
</code></pre><ul>
<li>Incrementa la puntución de un elemento en una cantidad especificada</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZINCRBY <span class="token function">users</span> <span class="token number">3</span> Cati
</code></pre><ul>
<li>Devuelve la puntuación de uno a más elementos del conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZMSCORE <span class="token function">users</span> Cati
</code></pre><ul>
<li>Encuentra la posición de un elemento en el conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZRANK <span class="token function">users</span> Cati
</code></pre><ul>
<li>Elimina uno o varios elementos de un conjunto</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZREM <span class="token function">users</span> Cati
</code></pre><ul>
<li>Elimina elementos por rango de índices</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZREMRANGEBYRANK <span class="token function">users</span> <span class="token number">0</span> <span class="token number">1</span>
</code></pre><ul>
<li>Elimina elementos por rango de puntuación</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>ZREMRANGEBYSCORE <span class="token function">users</span> <span class="token number">2</span> <span class="token number">10</span>
</code></pre><h3 id="35-hash" ebook-toc-level-3="" heading="3.5 Hash ">3.5 Hash </h3>
<p>Un <a href="https://redis.io/docs/latest/develop/data-types/hashes/">Hash</a> es una colección de pares clave-valor.</p>
<ul>
<li>Comandos básicos</li>
</ul>
<ul>
<li>HSET: establece el valor de uno o más campos en un hash.</li>
<li>HGET: devuelve el valor de un campo específico.</li>
<li>HMGET: devuelve los valores de uno o más campos específicos.</li>
<li>HINCRBY: incrementa el valor de un campo específico por el entero proporcionado.</li>
</ul>
<p>Vamos a practicar con algunos de estos comandos:</p>
<ul>
<li>Añadir elementos en un hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HSET user:1 likes <span class="token number">4</span> visits <span class="token number">10</span> comments <span class="token number">2</span> 
</code></pre><ul>
<li>Modificamos el hash añadiéndole una puntuación</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HSET user:1 score <span class="token number">9</span>
</code></pre><ul>
<li>Obtener todas las claves</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HKEYS user:1 
</code></pre><ul>
<li>Ontener todos los valores</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HVALS user:1 
</code></pre><ul>
<li>Obtener el valor de un campo específico del hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HGET user:1 likes
</code></pre><ul>
<li>Obtener todos los campos y valores de un hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HGETALL user:1
</code></pre><ul>
<li>Obtener los valores de múltiples campos de un hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HMGET user:1 likes score
</code></pre><ul>
<li>Eliminar uno o varios campos de un hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HDEL user:1 comments
</code></pre><ul>
<li>Comprobar si un campo existe</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HEXISTS user:1 comments
</code></pre><ul>
<li>Incrementar el valor de un campo numérico en la cantidad especificada</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HINCRBY user:1 score <span class="token number">5</span>
</code></pre><ul>
<li>Obtener el número de campos de un hash</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>HLEN user:1
</code></pre><h2 id="ejercicio-1-lista-de-tareas" ebook-toc-level-2="" heading="Ejercicio 1: Lista de Tareas ">Ejercicio 1: Lista de Tareas </h2>
<p>Uilizando las estructuras de Set y List vamos a gestionar una lista 
de tareas. Además usaremos el concepto de transacción para asegurarnos 
que dos operaciones se realizan de forma atómica para que se mantenga la
 integridad de los datos. Usaremos una lista <em>tareas-pendientes</em> para almacenar las tareas pendientes y mantener el orden de tareas según el orden de inserción. Usaremos un conjunto <em>tareas-realizadas</em> para almacenar las tareas realizadas ya que el orden no nos importa y cada tarea es única.</p>
<ul>
<li>Añadimos varias tareas a la lista (E.g. "Comprar pan", "Estudiar", etc.)</li>
<li>Para marcar una tarea como realizada moveremos la tarea más antigua 
de la lista de pendientes al conjunto de tareas realizadas. Esto 
requerirá de una operación atómica <a href="https://redis.io/docs/latest/develop/interact/transactions/">MULTI / EXEC</a> para asegurarnos de que la tarea se elimina de pendientes solo si se ha añadido al conjunto de realizadas</li>
<li>Comprueba que la tarea se ha eliminado de la lista de pendientes y se encuentra en el conjunto de realizadas, listando ambas</li>
</ul>
<h2 id="4-persistencia" ebook-toc-level-2="" heading="4. Persistencia ">4. Persistencia </h2>
<p>La persistencia se refiere al almacenamiento de los datos en disco. 
Redis ofrece varias opciones a la hora de persistir los datos. <a href="https://redis.io/docs/management/persistence/">Aquí</a> puedes consultar la documentación oficial. En general, existen cuatro posibles configuraciones:</p>
<ul>
<li>RDB (Redis Database): realiza instantaneas (snaphots) de la base de datos cada cierto tiempo y las persiste en disco.</li>
<li>AOF (Append Only File): registra cada operación de escritura en un archivo de log que persiste en disco según se especifique.</li>
<li>Sin persistencia. Útil cuando Redis se utiliza como sistema de caché</li>
<li>RDB+AOF: Combinación de RDF y AOF para aprovechar las ventajas de ambas estrategias.</li>
</ul>
<p>Para consultar información sobre la configuración de persistenca actual de Redis podemos ejecutar el siguiente comando:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>INFO persistence
</code></pre><p>Podemos observar como por defecto es RDB.  La propiedad <em>rdb_last_save_time</em>
 nos dirá cuándo se realizó la última copia de los datos en disco. Si 
miramos en el directorio de Redis. En el caso de usar docker:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nombre-contenedor <span class="token function">bash</span>
</code></pre><p>Veremos que hay un archivo denominado <em>dump.rdb</em> que contiene la copia de los datos.</p>
<p>A través del fichero de configuración de Redis <em>redis.conf</em> podemos indicar cada cuanto hacer las copias (snapshots) de la base de datos.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>save <span class="token number">60</span> <span class="token number">1000</span>
</code></pre><p>En este caso se indica que se relice cada 60 segundos si al menos 1000 claves han cambiado</p>
<p>Podemos obtener la configuración actual de la directiva save como se muestra a continuación:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>CONFIG GET save
</code></pre><p>Esto nos devolverá algo como lo que se muestra a 
continuación que indica que se haga una copia a los 3600 segundos si al 
menos una clave ha cambiado, a los 300 si 100 claves han cambiado y cada
 60 segundos si al menos 10000 claves han cambiado</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">"save"</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"3600 1 300 100 60 10000"</span>
</code></pre><h3 id="41-simulando-la-persistencia-y-recuperación-de-datos-con-rdb" ebook-toc-level-3="" heading="4.1 Simulando la persistencia y recuperación de datos con RDB ">4.1 Simulando la persistencia y recuperación de datos con RDB </h3>
<ul>
<li>Inserta varios registros en la base de datos:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET test:1 valor1
SET test:2 valor2
<span class="token punctuation">..</span>.
</code></pre><ul>
<li>Ahora sal del <em>CLI</em> y simula un fallo en el servidor de <em>redis</em>. Si estás usando docker, sal del <em>CLI</em> y escribe</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token builtin class-name">exit</span>
<span class="token function">docker</span> <span class="token function">kill</span> nombre-contenedor
</code></pre><ul>
<li>Vuelve a iniciar el contenedor y entra en el cli</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> start nombre-contenedor
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nombre-contenedor redis-cli
</code></pre><ul>
<li>Comprueba los datos que contiene la base de datos. Puedes ver que los últimos datos añadidos no están</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>keys *
</code></pre><ul>
<li>Vuelve a añadir los datos y ejecuta <em>BGSAVE</em> para generar instantanea del conjunto de datos de manera asíncrona y que la almacene en disco</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>BGSAVE
</code></pre><ul>
<li>Vuelve a salir del <em>CLI</em> y simula un fallo en el servidor de redis</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token builtin class-name">exit</span>
<span class="token function">docker</span> <span class="token function">kill</span> nombre-contenedor
</code></pre><ul>
<li>Vuelve a iniciar el contenedor y entra en el <em>CLI</em></li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> start nombre-contenedor
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nombre-contenedor redis-cli
</code></pre><ul>
<li>Comprueba que ahora los datos añadidos si están</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>keys *
</code></pre><p>Ahora si sales del <em>CLI</em> y miras en el directorio de <em>Redis</em>, verás como se ha actualizado el archivo <em>dump.rdb</em>.</p>
<h3 id="42-simulando-la-persistencia-y-recuperación-de-datos-con-aof" ebook-toc-level-3="" heading="4.2 Simulando la persistencia y recuperación de datos con AOF ">4.2 Simulando la persistencia y recuperación de datos con AOF </h3>
<p>Para trabajar con la persistencia AOF, definiremos la configuración a través del fichero de configuración de redis <em>redis.conf</em>.<br>
Para ello tenemos que crear dicho fichero y montarlo en una ubicación específica del contenedor.</p>
<ul>
<li>En el fichero de configuración escribimos lo siguiente:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># redis.conf</span>
<span class="token comment"># Desactiva la persistencia RDB </span>
save <span class="token string">""</span>

<span class="token comment"># Habilita el modo Append-Only File (AOF) para persistencia de cada operación</span>
appendonly <span class="token function">yes</span>

<span class="token comment"># Sincroniza los datos con el disco cada segundo</span>
appendfsync everysec
</code></pre><ul>
<li>Ejecutamos <em>Redis</em> indicando donde está el fichero de configuración:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> nombre-contenedor <span class="token punctuation">\</span>   
  <span class="token parameter variable">-v</span> <span class="token environment constant">$HOME</span>/Desktop/redis/redis.conf:/usr/local/etc/redis/redis.conf <span class="token punctuation">\</span>
  <span class="token parameter variable">-v</span> <span class="token environment constant">$HOME</span>/Dsktop/redis:/data/db <span class="token punctuation">\</span>
  redis:latest redis-server /usr/local/etc/redis/redis.conf
</code></pre><p>Si ahora escribimos <code>INFO PERSISTENCE</code> veremos que <em>aof_enabled</em>
 tiene valor 1, indicando que está activada. Si volvemos al directorio 
de Redis, veremos que se ha creado una nueva carpeta con el nombre <em>appendonlydir</em> con una serie de archivos donde se van escribiendo cada una de las modificaciones hechas en la base de datos.</p>
<ul>
<li>Una vez indicada la configuración anterior, volvemos a insertar varios registros:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET test:1 valor1
SET test:2 valor2
<span class="token punctuation">..</span>.
</code></pre><ul>
<li>Ahora sal del <em>CLI</em> y simula un fallo en el servidor de redis. Si estás usando docker, sal del <em>CLI</em> y escribe:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token builtin class-name">exit</span>
<span class="token function">docker</span> <span class="token function">kill</span> nombre-contenedor
</code></pre><ul>
<li>Vuelve a iniciar el contenedor y entra en el <em>CLI</em></li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> start nombre-contenedor
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nombre-contenedor redis-cli
</code></pre><ul>
<li>Comprueba los datos que contiene la base de datos. Puedes ver que los últimos datos añadidos están</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>keys *
</code></pre><ul>
<li>Si queremos volver a RDB, modifica el fichero de configuración:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># redis.conf</span>

<span class="token comment"># Realiza un snapshot en las siguientes condiciones:</span>
<span class="token comment"># - Cada 3600 segundos (1 hora) si se ha producido al menos 1 cambio en la base de datos.</span>
<span class="token comment"># - Cada 300 segundos (5 minutos) si se han producido al menos 100 cambios.</span>
<span class="token comment"># - Cada 60 segundos (1 minuto) si se han producido al menos 10,000 cambios.</span>
save <span class="token number">3600</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">100</span>
save <span class="token number">60</span> <span class="token number">10000</span>

<span class="token comment"># Desactiva el modo Append-Only File (AOF) para usar solo snapshots RDB</span>
appendonly no
</code></pre><p>Por defecto Redis almacena los datos sin encriptar tanto en la memoria como en los archivos de persistencia (<em>dump.rdb</em> y <em>appendonly.aof</em>).
 Por tanto, cualquier persona con acceso al sistema de archivos donde se
 almacenan los datos podría leer el contenido de esos archivos. Para 
proteger estos datos almacenados disco, habría que utilizar cifrado del 
sistema de archivos o software de cifrado externo. En el caso de cifrado
 de datos en memoria, habría que hacerlo a nivel de aplicación, antes de
 guardarlos en <em>Redis</em>.</p>
<h2 id="5-redis-como-caché" ebook-toc-level-2="" heading="5. Redis como caché ">5. Redis como caché </h2>
<p>Para simular el uso de Redis como caché asociaremos un time to live 
(TTL) a una clave. Cuando esta expire, el usuario deberá pedir el dato a
 la fuente de datos (e.g una base de datos mysql) y almacenarlo en caché
 para siguientes peticiones.</p>
<ul>
<li>El primer paso sería preguntarle a <em>Redis</em> (caché) si existe el dato</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>GET post:123
</code></pre><ul>
<li>Si lo encuentra, recuperaría el dato (acierto en caché). En caso de 
que no exista, tengo que ir a la fuente de datos principal (e.g. una 
base de datos mysql), recuperarlo e insertarlo en Redis para futuras 
consultas estableciendo un tiempo de expiración (TTL) apropiado si el 
dato debe ser temporal. Para asociar un TTL a una clave usaremos la 
opción <em>EX</em> que permite especificar TTL en segundos:</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET clave value EX <span class="token number">60</span> <span class="token comment">#La clave expirará en 60 segundos</span>
</code></pre><ul>
<li>Con el comando TTL puedo ver como el TTL va decrementándose hasta devolver -2 que significa que la clave no existe</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>TTL clave
</code></pre><ul>
<li>Cuando los datos de mi fuente principal cambian, tengo que invalidar los datos correspondientes en <em>Redis</em>
 para que futuras consultas siempre recuperen la nueva versión de los 
datos. Para ello, puedo borrar la clave, reescribir con la nueva versión
 en Redis o esperar a que el TTL expire. En este caso reescribimos el 
valor</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SET clave newvalue <span class="token comment">#reescribir</span>
</code></pre><h2 id="5-importando-datos-de-forma-masiva-csv" ebook-toc-level-2="" heading="5. Importando datos de forma masiva (CSV) ">5. Importando datos de forma masiva (CSV) </h2>
<p>Para importar datos en CSV u en otro formato en Redis se puede crear 
un programa con cualquiera de las librerías en los distintos lenguajes 
de programación disponibles para procesarlos e insertarlos. También 
podemos hacerlo ejecutando un script desde el bash.</p>
<p>Por ejemplo para insertar los siguientes datos  en formato <em>CSV</em> en un hash:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>userid,likes,votes,score,posts,comments
<span class="token number">1,123</span>,15,200,30,5
<span class="token number">2,50</span>,5,100,8,1
</code></pre><pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nombre-contenedor <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">'awk -F, '</span><span class="token punctuation">\</span>'<span class="token string">'NR&gt;1 {print "HSET user:"$1" likes "$2" votes "$3" score "$4" posts "$5" comments "$6}'</span><span class="token punctuation">\</span>'<span class="token string">' /data/db/csvdata.csv | redis-cli --pipe'</span>
</code></pre><p>Donde:</p>
<ul>
<li>docker exec -it nombre-contenedor: Ejecuta un comando en el contenedor llamado mi-contenedor</li>
<li>sh -c '...': Ejecuta un shell y pasa el comando awk a través de él.</li>
<li>awk -F,: Invoca awk y establece la coma como delimitador de campos.</li>
<li>NR&gt;1: Indica a awk que procese solo después de la primera línea, lo que ignora los encabezados del CSV.</li>
<li>{print "HSET user:"<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1...</mn></mrow><annotation encoding="application/x-tex">1 ...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1...</span></span></span></span>6}: Por cada línea, awk genera un comando HSET con los campos del CSV como valores del hash.</li>
<li>csvdata.csv: Especifica el archivo CSV de entrada.</li>
<li>| redis-cli --pipe: Canaliza la salida de awk directamente en 
redis-cli en modo pipe, que es adecuado para la ejecución de comandos 
masivos</li>
</ul>
<h2 id="6-modelo-publicación--suscripción" ebook-toc-level-2="" heading="6. Modelo Publicación / Suscripción ">6. Modelo Publicación / Suscripción </h2>
<p>Redis ofrece un mecanismo eficiente de intercambio de mensajes a través del <a href="https://redis.io/docs/latest/develop/interact/pubsub/">modelo de publicación y suscripción <em>(pub/sub)</em></a> que permite que las aplicaciones envíen y reciban mensajes en tiempo real a través de canales de comunicación. En el modelo <em>pub/sub</em>
 de Redis, los componentes publicadores envían mensajes a un canal 
específico, y los suscriptores escuchan ese canal para recibir esos 
mensajes.</p>
<p>Abre dos terminales y en cada una de ellas ejecuta el cli de Redis</p>
<ul>
<li>Terminal 1</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> container-name redis-cli
</code></pre><ul>
<li>Terminal 2</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> container-name redis-cli
</code></pre><ul>
<li>En el terminal 1, nos suscribiremos a un canal</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>SUBSCRIBE news:weather
</code></pre><ul>
<li>En el terminal 2 publicaremos un mensaje en el canal</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>PUBLISH news:weather <span class="token string">"Hoy el tiempo estará nublado"</span>
</code></pre><p>Puedes observar como el mensaje aparece en el Terminal 1</p>
<h2 id="7-redis-con-nestjs-como-sistema-de-caché" ebook-toc-level-2="" heading="7. Redis con NestJS como sistema de caché ">7. Redis con NestJS como sistema de caché </h2>
<p>Nest proporciona un API para integrar diversos proveedores de 
almacenamiento en caché. Por defecto integra (@nestjs/cache-manager) 
como almacenamiento en memoria, pero nosotros utilizaremos <em>Redis</em>.
 En general, se recomienda utilizar un almacén en memoria cuando la 
cantidad de datos a almacenar es relativamente pequeña y puede caber en 
la memoria del servidor. <em>Redis</em> es más adecuado para grandes volúmenes de datos y situaciones donde se requiere persistencia de datos.</p>
<p>Para la implementación de <em>Redis</em> con <em>NestJS</em>, existen varios drivers. Aquí utilizaremos <em>ioredis</em> ya que es uno de los más completos en cuanto a funcionalidad.</p>
<p>A continuación vamos a utilizar <em>Redis</em> como sistema de caché para almacenar y gestionar sesiones de usuario.</p>
<p>Cuando un usuario inicia sesión, se crea un ID de sesión (<em>sessionId</em>) y se almacena en Redis junto con los datos relevantes de la sesión, como el ID del usuario (<em>userId</em>) y hora de inicio de sesión (<em>createdAt</em>).</p>
<p>Implementaremos una forma de validar la sesión, comprobando si el ID 
de sesión existe y si no ha expirado. Cuando el usuario cierre sesión, 
se deberá eliminar la sesión de Redis. Estableceremos un tiempo de vida 
(TTL) para que las sesiones expiren automáticamente.</p>
<h3 id="71-instalación-de-nestjs-y-creación-de-un-proyecto" ebook-toc-level-3="" heading="7.1	Instalación de NestJS y creación de un proyecto ">7.1	Instalación de NestJS y creación de un proyecto </h3>
<ul>
<li>Paso 1: Instalación global del CLI de NestJS (si no lo tienes instalado)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> i <span class="token parameter variable">-g</span> @nestjs/cli
</code></pre><ul>
<li>Paso 2: Creación de un proyecto con el CLI de Nest. Elegimos el gestor npm cuando nos lo pregunte</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>nest new session-management-js
</code></pre><h3 id="72-integración-con-redis" ebook-toc-level-3="" heading="7.2. Integración con Redis ">7.2. Integración con Redis </h3>
<p>El módulo <em>@nestjs/cache-manager</em> proporciona una interfaz de 
caché uniforme en NestJS. Este módulo permite manejar la caché de manera
 genérica en la aplicación y puede trabajar con varios backends (como 
Redis, u otros) usando cache-manager.</p>
<p>A través de <em>@nestjs/cache-manager</em> es posible utilizar 
operaciones de caché (como set, get, del) sin preocuparse demasiado por 
el backend específico. Esto significa que es posible cambiar el backend 
(de memoria a Redis, por ejemplo) sin tener que modificar la lógica de 
los servicios.</p>
<p>El módulo <em>cache-manager-ioredis-yet</em> es un adaptador que permite que <em>cache-manager</em> use Redis como backend de almacenamiento en caché a través de <em>ioredis</em>, un cliente de Redis para <em>Node.js</em>. Al usar <em>cache-manager-ioredis-yet</em>, haremos que <em>Redis</em> sea nuestro almacén de caché.</p>
<p>Cuando usas <em>@nestjs/cache-manager</em> junto con <em>cache-manager-ioredis-yet</em> en una aplicación NestJS, <em>Redis</em> actúa como el backend de almacenamiento en caché en lugar del almacenamiento en memoria predeterminado de NestJS.</p>
<ul>
<li>Paso 1: Instala las dependencias necesarias, en este caso <a href="https://www.npmjs.com/package/cache-manager-ioredis-yet">Redis</a>. Instalaremos <em>cache-manager</em> y <em>cache-manager-ioredis-yet</em>, que es el adaptador de Redis compatible con CacheModule.</li>
</ul>
<p>Dentro de la carpeta de nuestro proyecto:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> <span class="token function">install</span> @nestjs/cache-manager  cache-manager-ioredis-yet
</code></pre><p>NestJS trabaja con un sistema de módulos, por lo que es 
necesario configurar un módulo específico para configurar Redis como 
caché usando <em>CacheModule</em>. Para ello abriremos el archivo <strong>app.module.ts</strong> e importaremos los módulos necesarios en el módulo principal <em>AppModule</em></p>
<pre data-role="codeBlock" data-info="typescript" class="language-typescript typescript"><code><span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> Module <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> CacheModule <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/cache-manager'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token operator">*</span> <span class="token keyword keyword-as">as</span> redisStore <span class="token keyword keyword-from">from</span> <span class="token string">'cache-manager-ioredis-yet'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> AppController <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./app.controller'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> AppService <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./app.service'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
   CacheModule<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">store</span><span class="token operator">:</span> <span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword keyword-await">await</span> <span class="token function">redisStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        host<span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> 
        port<span class="token operator">:</span> <span class="token number">6379</span><span class="token punctuation">,</span>
        ttl<span class="token operator">:</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// 1 hora en milisegundos, TTL predeterminado para todas las claves en el caché que no especifican un TTL al momento de ser guardadas </span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  controllers<span class="token operator">:</span> <span class="token punctuation">[</span>AppController<span class="token punctuation">]</span><span class="token punctuation">,</span>
  providers<span class="token operator">:</span> <span class="token punctuation">[</span>AppService<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword keyword-export">export</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><p>A través de <em>CacheModule.register</em>, establecemos la conexión con <em>Redis</em>. Indicamos un <em>TTL</em> indicando que las sesiones expirarán automáticamente después de 1 hora.</p>
<h4 id="721-creación-del-recurso-sessions" ebook-toc-level-4="" heading="7.2.1 Creación del recurso &lt;em&gt;sessions&lt;/em&gt; ">7.2.1 Creación del recurso <em>sessions</em> </h4>
<p>Si creamos un recurso desde el <em>CLI</em>, NestJS generará de 
manera automática un recurso que incluye el módulo, controlador y 
servicio, además de configurar las rutas básicas. Durante la generación 
se pregunta sobre el tipo de recurso a crear, selecciona <em>REST API</em>.</p>
<ul>
<li>Paso 1: Creación del recurso <em>sessions</em></li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>nest g resource sessions
</code></pre><p>Después de ejecutar el comando, NestJS creará automáticamente:</p>
<ul>
<li>Módulo: <strong>sessions.module.ts</strong></li>
<li>Controlador: <strong>sessions.controller.ts</strong></li>
<li>Servicio: <strong>sessions.service.ts</strong></li>
<li>DTO (Data Transfer Object): se utiliza para estructurar los datos de solicitud y respuesta en controladores y servicios</li>
</ul>
<h3 id="722-implementar-el-servicio-de-sesiones" ebook-toc-level-3="" heading="7.2.2 Implementar el servicio de Sesiones ">7.2.2 Implementar el servicio de Sesiones </h3>
<p>Primero modificaremos el archivo <em>create-session.dto.ts</em> para definir la estructura de nuestro DTO como se indica a continuación:</p>
<pre data-role="codeBlock" data-info="typescript" class="language-typescript typescript"><code><span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> IsNotEmpty <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'class-validator'</span><span class="token punctuation">;</span>

<span class="token keyword keyword-export">export</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">CreateSessionDto</span> <span class="token punctuation">{</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">IsNotEmpty</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    userId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

    sessionId<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">//opcional para la respuesta</span>
    createdAt<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//opcional para la respuesta</span>
<span class="token punctuation">}</span>
</code></pre><p>Para permitir la aplicación de validaciones de datos instala <em>class-validator</em> y <em>class-transformer</em>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> <span class="token function">install</span> class-validator class-transformer
</code></pre><p>Para que NestJS aplique automáticamente las validaciones en los DTOs, debes habilitar la validación global. En el archivo <strong>main.ts</strong> hay que añadir <em>ValidationPipe</em>, para que se apliquen las validaciones a los DTOs automáticamente</p>
<pre data-role="codeBlock" data-info="typescript" class="language-typescript typescript"><code><span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> ValidationPipe <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">useGlobalPipes</span><span class="token punctuation">(</span><span class="token keyword keyword-new">new</span> <span class="token class-name">ValidationPipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Modifica el archivo <em>sessions.service.ts</em> para agregar la lógica de manejo de sesiones con Redis. Crearemos una sesión y la almacenaremos en Redis con un <em>TTL</em>. Comprobaremos si la sesión ya existe a través del método <em>validateSession</em> y eliminaremos una sesión.</p>
<p>Vamos a usar <em>CacheModule</em> para gestionar las operaciones de 
almacenamiento, validación y eliminación de sesiones en Redis. Para 
generar identificadores únicos universales (UUIDs) para las sesiones de 
usuario, instalaremos <em>uuid</em>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> <span class="token function">install</span> uuid
</code></pre><pre data-role="codeBlock" data-info="typescript" class="language-typescript typescript"><code><span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> Inject<span class="token punctuation">,</span> Injectable <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> Cache<span class="token punctuation">,</span> <span class="token constant">CACHE_MANAGER</span> <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/cache-manager'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> v4 <span class="token keyword keyword-as">as</span> uuidv4 <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'uuid'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> CreateSessionDto <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./dto/create-session.dto'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> UpdateSessionDto <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./dto/update-session.dto'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Injectable</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword keyword-export">export</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SessionsService</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> <span class="token constant">SESSION_TTL</span> <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">;</span> <span class="token comment">// 1 hora</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token decorator"><span class="token at operator">@</span><span class="token function">Inject</span></span><span class="token punctuation">(</span><span class="token constant">CACHE_MANAGER</span><span class="token punctuation">)</span> <span class="token keyword keyword-private">private</span> cacheManager<span class="token operator">:</span> Cache<span class="token punctuation">,</span> <span class="token comment">// Inyección del caché de Redis configurado</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword keyword-async">async</span> <span class="token function">createSession</span><span class="token punctuation">(</span>createSessionDto<span class="token operator">:</span> CreateSessionDto<span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Promise</span><span class="token operator">&lt;</span>CreateSessionDto<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> sessionId <span class="token operator">=</span> <span class="token function">uuidv4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> sessionData <span class="token operator">=</span> <span class="token punctuation">{</span> userId<span class="token operator">:</span> createSessionDto<span class="token punctuation">.</span>userId<span class="token punctuation">,</span> createdAt<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> 
    
    <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>cacheManager<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">session:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sessionId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> sessionData<span class="token punctuation">,</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation">{</span>
      userId<span class="token operator">:</span> createSessionDto<span class="token punctuation">.</span>userId<span class="token punctuation">,</span>
      sessionId<span class="token punctuation">,</span>
      createdAt<span class="token operator">:</span> sessionData<span class="token punctuation">.</span>createdAt
    <span class="token punctuation">}</span><span class="token punctuation">;</span>    
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-async">async</span> <span class="token function">validateSession</span><span class="token punctuation">(</span>sessionId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> sessionData<span class="token operator">?</span><span class="token operator">:</span> CreateSessionDto<span class="token punctuation">;</span> message<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> sessionData <span class="token operator">=</span> <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>cacheManager<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>CreateSessionDto<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">session:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sessionId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>sessionData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword keyword-return">return</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Sesión inválida o expirada'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword keyword-return">return</span> <span class="token punctuation">{</span> sessionData<span class="token punctuation">,</span> message<span class="token operator">:</span> <span class="token string">'Sesión válida'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword keyword-async">async</span> <span class="token function">deleteSession</span><span class="token punctuation">(</span>sessionId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>cacheManager<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">session:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sessionId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Sesión eliminada correctamente'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="723-implementar-el-controlador-de-sesiones" ebook-toc-level-3="" heading="7.2.3 Implementar el controlador de Sesiones ">7.2.3 Implementar el controlador de Sesiones </h3>
<p>A continuación configuraremos el controlador para gestionar las 
solicitudes relacionadas con las sesiones, utilizando el servicio que 
acabamos de definir. Definiremos los <em>endpoints</em> para crear una sesión, validar una sesión y eliminarla.<br>
Modificamos el archivo <em>session.controller.ts</em> como se indica a continuación:</p>
<pre data-role="codeBlock" data-info="typescript" class="language-typescript typescript"><code><span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> Controller<span class="token punctuation">,</span> Get<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> Body<span class="token punctuation">,</span> Patch<span class="token punctuation">,</span> Param<span class="token punctuation">,</span> Delete <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'@nestjs/common'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> SessionsService <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./sessions.service'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-import">import</span> <span class="token punctuation">{</span> CreateSessionDto <span class="token punctuation">}</span> <span class="token keyword keyword-from">from</span> <span class="token string">'./dto/create-session.dto'</span><span class="token punctuation">;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Controller</span></span><span class="token punctuation">(</span><span class="token string">'sessions'</span><span class="token punctuation">)</span>
<span class="token keyword keyword-export">export</span> <span class="token keyword keyword-class">class</span> <span class="token class-name">SessionsController</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword keyword-private">private</span> <span class="token keyword keyword-readonly">readonly</span> sessionsService<span class="token operator">:</span> SessionsService<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">// Endpoint para crear una sesión (iniciar sesión)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Post</span></span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span>
  <span class="token keyword keyword-async">async</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Body</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> createSessionDto<span class="token operator">:</span> CreateSessionDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sessionsService<span class="token punctuation">.</span><span class="token function">createSession</span><span class="token punctuation">(</span>createSessionDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Endpoint para validar una sesión</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Get</span></span><span class="token punctuation">(</span><span class="token string">'validate/:sessionId'</span><span class="token punctuation">)</span>
  <span class="token keyword keyword-async">async</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Param</span></span><span class="token punctuation">(</span><span class="token string">'sessionId'</span><span class="token punctuation">)</span> sessionId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sessionsService<span class="token punctuation">.</span><span class="token function">validateSession</span><span class="token punctuation">(</span>sessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Endpoint para eliminar una sesión (cerrar sesión)</span>
  <span class="token decorator"><span class="token at operator">@</span><span class="token function">Delete</span></span><span class="token punctuation">(</span><span class="token string">'logout/:sessionId'</span><span class="token punctuation">)</span>
  <span class="token keyword keyword-async">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">Param</span></span><span class="token punctuation">(</span><span class="token string">'sessionId'</span><span class="token punctuation">)</span> sessionId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-return">return</span> <span class="token keyword keyword-await">await</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span>sessionsService<span class="token punctuation">.</span><span class="token function">deleteSession</span><span class="token punctuation">(</span>sessionId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Por tanto Redis almacena y expira automáticamente las 
sesiones gracias al TTL (1 hora). A través del servicio, hemos 
implementado la lógica de negocio para gestionar las sesiones. Por 
último, el controlador expone los endpoints para iniciar, validar y 
cerrar sesión.</p>
<h3 id="724-probamos-nuestra-aplicación" ebook-toc-level-3="" heading="7.2.4 Probamos nuestra aplicación ">7.2.4 Probamos nuestra aplicación </h3>
<p>Utiliza <em>Postman</em>, <em>Insomnia</em> o directamente <em>curl</em> para probar la aplicación que ejecutaremos en modo desarrollo:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> run start:dev
</code></pre><ul>
<li>Iniciar sesión: (POST / sessions / login)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST http://localhost:3000/sessions/login <span class="token parameter variable">-H</span> <span class="token string">"Content-Type: application/json"</span> <span class="token parameter variable">-d</span> <span class="token string">'{"userId": "1234"}'</span>
</code></pre><ul>
<li>Comprueba si la sesión existe utilizando el sessionId devuelto al iniciar sesión: (GET / sessions / validate / :sessionId)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET http://localhost:3000/sessions/validate/<span class="token operator">&lt;</span>sessionId<span class="token operator">&gt;</span>
</code></pre><ul>
<li>A continuación elimina la sesión: (DELETE / sessions / logout / :sessionId)</li>
</ul>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">curl</span> <span class="token parameter variable">-X</span> DELETE http://localhost:3000/sessions/logout/<span class="token operator">&lt;</span>sessionId<span class="token operator">&gt;</span>
</code></pre><h2 id="ejercicio-adicional" ebook-toc-level-2="" heading="Ejercicio adicional ">Ejercicio adicional </h2>
<p>Implementar un sistema de votación sencillo para películas utilizando Redis para almacenar los datos.<br>
Por un lado tendremos las películas que pueden ser votadas. Por otro lado las votaciones asociadas a las películas.</p>
<p>Requisitos:</p>
<ul>
<li>Agregar películas: Escribe un comando que agregue una nueva película a una lista de películas disponibles para votar</li>
<li>Votar por una película: Escribe un comando que permita a los usuarios votar por películas. Un usuario solo podrá votar una vez.</li>
<li>Contar votos: Escribe un comando que muestre los votos de una película</li>
<li>Mostar resultados: Escribe un comando que muestre las películas ordenadas por la cantidad de votos recibidos</li>
<li>Eliminar películas: Escribe un comando para eliminar películas de la lista de películas disponibles y de la votación</li>
</ul>
<h2 id="anexo-i" ebook-toc-level-2="" heading="ANEXO I ">ANEXO I </h2>
<p><strong>Algunos comandos útiles de docker</strong></p>
<p>Gestión de contenedores:</p>
<ul>
<li>Crea y arranca un contenedor a partir de una imagen</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker run &lt;image&gt;
</code></pre><ul>
<li>Lista los contenedores en ejecución</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker ps
</code></pre><ul>
<li>Lista todos los contenedores, incluyendo los que están detenidos</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker ps -a
</code></pre><ul>
<li>Detiene un contenedor en ejecución</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker stop &lt;container_id/container_name&gt;
</code></pre><ul>
<li>Inicia un contenedor detenido</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker start &lt;container_id/container_name&gt;
</code></pre><ul>
<li>Reinicia un contenedor</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker restart &lt;container_id/container_name&gt;
</code></pre><ul>
<li>Elimina un contenedor detenido</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>doker rm &lt;container_id/container_name&gt;
</code></pre><p>Gestión de imágenes:</p>
<ul>
<li>Lista las imágenes disponibles localmente</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker imagesfin
</code></pre><ul>
<li>Elimina una imágen</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker rmi &lt;image_id&gt;
</code></pre><ul>
<li>Descarga una imágen desde Docker Hub</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker pull &lt;image_name&gt;
</code></pre><ul>
<li>Construye una imagen a partir de un Dockerfile</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker build -t &lt;image_name&gt; &lt;path_to_dockerfile&gt;
</code></pre><p>Ejecución y acceso:</p>
<ul>
<li>Ejecuta un comando en un contenedor en ejecución</li>
</ul>
<pre data-role="codeBlock" data-info="console" class="language-console console"><code>docker exec -it &lt;container_id/container_name&gt; &lt;command&gt;
</code></pre></div>
    </div>
  

</body></html>