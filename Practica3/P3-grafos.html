<!DOCTYPE html>
<html class=" ypwuwnb idc0_350"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>no title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    .markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}.emoji{height:.8em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}
    /* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

    </style>
    
    <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
  
  
    <div class="crossnote markdown-preview">
    <div>
<center>
<p><img src="data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAZkAAACgCAYAAADepxEfAAAKI2lDQ1BJQ0MgUHJvZmlsZQAASImVlgdUFOcWx7+Z7Q2W3aW3pffeFhDYpVfpVVSWXVh6WaqIDQmGElFEpCkBCYgoGA01FkQUW1BU7JpFgooSgwVRUXkDxJi8d857591z7rm/uTPfvXfm+86ZPwCkOG5aWhJMBSA5JVMY4ObIDAuPYOIeASIQB1QgA0y4vIw0jp+fN0DsS/ynvb0JoMV43WCx1n/e/68mwY/J4AEA+SGcys/gJSM8gLAzL02YCQCMRlgtJzNtkbURZgiRARFesciCZV5cy4heZv7SM0EBTgjnAoAnc7lCAQDEQiTPzOYJkDrEZoSNU/jxKQjfQNieF8dF1pEYCOsnJ6cuMhth7ei/1RH8o2b0XzW5XMFfvPwuSybJCQwOZIaEmppbMXncpPhoIZef+n9+m/9pyUlZX/ot7gA5JsMlcHFuxBUABwSCYMSZIASEAlNgDqwQ5gEuSALxIBoIEeKD1MyY3MzFAk6paeuE8YK4TCYH2cUYpkcKz1CfaWpswgJg8Uwst3ktXOoEUf2/5vKyAXAgIcmar7kw5Bx0ICxD/JpTmwWANgZAXzEvS5i9nFvcXoBZOm0MIAuUgBoyvQEyrSWwBWzgAjyBLwgC4WANMnkcSEamzgH5YAsoAqVgB9gNakED2A8OgMPgKOgBx8FpcA5cAlfBGLgHRGASPAcz4C2YhyAIB1EgOiQLKUMakB5kCrEge8gF8oYCoHAoChJAKVAWlA9thUqhCqgWaoTaoB+hPug0dAEahe5A49AU9Ar6AKNgMsyAFWFN2AhmwRzYCw6CV8MCOB3Ogwvh7XA13AQfgrvh0/AleAwWwc/hWRRAkVBSKBWUAYqFckL5oiJQsSghaiOqBFWFakJ1oPpRw6jrKBFqGvUejUXT0Uy0AdoW7Y4ORvPQ6eiN6DJ0LfoAuhs9hL6OHkfPoD9jKBgFjB7GBuOBCcMIMDmYIkwVpgXThTmLGcNMYt5isVgprBbWCuuODccmYNdjy7B7sZ3YAewodgI7i8PhZHF6ODucL46Ly8QV4Wpwh3CncNdwk7h3eBJeGW+Kd8VH4FPwBfgq/EH8Sfw1/BP8PIFK0CDYEHwJfMI6QjmhmdBPuEKYJMwTJYhaRDtiEDGBuIVYTewgniXeJ74mkUiqJGuSPymetJlUTTpCOk8aJ70n08i6ZCdyJDmLvJ3cSh4g3yG/plAomhQ2JYKSSdlOaaOcoTykvBOjixmKeYjxxTaJ1Yl1i10TeyFOENcQ54ivEc8TrxI/Jn5FfJpKoGpSnahc6kZqHbWPeos6K0GXMJHwlUiWKJM4KHFB4ikNR9OkudD4tELaftoZ2gQdRVejO9F59K30ZvpZ+iQDy9BieDASGKWMw4wRxowkTdJcMkQyV7JO8oSkSAolpSnlIZUkVS51VOqm1AdpRWmOdIx0sXSH9DXpORl5GbZMjEyJTKfMmMwHWaasi2yi7E7ZHtkHcmg5XTl/uRy5fXJn5ablGfK28jz5Evmj8ncVYAVdhQCF9Qr7FS4rzCoqKboppinWKJ5RnFaSUmIrJShVKp1UmlKmK9srxytXKp9SfsaUZHKYScxq5hBzRkVBxV0lS6VRZURlXlVLNVi1QLVT9YEaUY2lFqtWqTaoNqOurO6jnq/ern5Xg6DB0ojT2KMxrDGnqaUZqrlNs0fzqZaMlodWnla71n1tiraDdrp2k/YNHawOSydRZ6/OVV1Y10I3TrdO94oerGepF6+3V29UH6NvrZ+i36R/y4BswDHINmg3GDeUMvQ2LDDsMXxhpG4UYbTTaNjos7GFcZJxs/E9E5qJp0mBSb/JK1NdU55pnekNM4qZq9kms16zl+Z65jHm+8xvW9AtfCy2WQxafLK0shRadlhOWalbRVnVW91iMVh+rDLWeWuMtaP1Juvj1u9tLG0ybY7a/GFrYJtoe9D26QqtFTErmldM2Knace0a7UT2TPso++/tRQ4qDlyHJodHbDU2n93CfsLR4SRwDnFeOBo7Ch27HOecbJw2OA04o5zdnEucR1xoLsEutS4PXVVdBa7trjNuFm7r3QbcMe5e7jvdb3koevA82jxmPK08N3gOeZG9Ar1qvR5563oLvft9YB9Pn10+91dqrExZ2eMLfD18d/k+8NPyS/f72R/r7+df5/84wCQgP2A4kB64NvBg4Nsgx6DyoHvB2sFZwYMh4iGRIW0hc6HOoRWhojCjsA1hl8LlwuPDeyNwESERLRGzq1xW7V41GWkRWRR5c7XW6tzVF9bIrUlac2Kt+Fru2mNRmKjQqINRH7m+3CbubLRHdH30DM+Jt4f3nM/mV/KnYuxiKmKexNrFVsQ+FdgJdgmm4hziquKm453ia+NfJrgnNCTMJfomtiYuJIUmdSbjk6OS+1JoKYkpQ6lKqbmpo2l6aUVponSb9N3pM0IvYUsGlLE6ozeTgfx8L2dpZ32TNZ5tn12X/S4nJOdYrkRuSu7ldbrritc9yXPN+2E9ej1v/WC+Sv6W/PENnA2NG6GN0RsHN6ltKtw0udlt84EtxC2JW34pMC6oKHizNXRrf6Fi4ebCiW/cvmkvEisSFt3aZrut4Vv0t/HfjhSbFdcUfy7hl1wsNS6tKv1Yxiu7+J3Jd9XfLWyP3T5Sblm+bwd2R8qOmzsddh6okKjIq5jY5bOru5JZWVL5Zvfa3ReqzKsa9hD3ZO0RVXtX99ao1+yo+VgbVztW51jXWa9QX1w/t5e/99o+9r6OBsWG0oYP38d/f7vRrbG7SbOpaj92f/b+x80hzcM/sH5oa5FrKW351JrSKjoQcGCozaqt7aDCwfJ2uD2rfepQ5KGrh50P93YYdDR2SnWWHgFHso48+zHqx5tHvY4OHmMd6/hJ46f6LnpXSTfUva57pieuR9Qb3jva59k32G/b3/Wz4c+tx1WO152QPFF+kniy8OTCqbxTswNpA9OnBacnBtcO3jsTdubGkP/QyFmvs+fPuZ47M8wZPnXe7vzxCzYX+i6yLvZcsrzUfdnictcvFr90jViOdF+xutJ71fpq/+iK0ZPXHK6dvu58/dwNjxuXxlaOjd4Mvnn7VuQt0W3+7ad3ku68vJt9d/7e5vuY+yUPqA+qHio8bPpV59dOkaXoxLjz+OVHgY/uTfAmnv+W8dvHycLHlMdVT5SftD01fXp8ynXq6rNVzyafpz2fny76XeL3+hfaL376g/3H5ZmwmcmXwpcLr8pey75ufWP+ZnDWb/bh2+S383Ml72TfHXjPej/8IfTDk/mcj7iP1Z90PvV/9vp8fyF5YSGNK+QuSQEU4nBsLACvWgGghANAv4roqlXLmu1PjQP9Te18YbCw+yt/7FrWdUtmCUALG4CQzQCREQDUI66BXNOQ6IfEIDaAzcz+8j8tI9bMdLkHSR+RJjELC29UAMAi2uVTx8LC/LuFhU/IXKgKAM4qL2vFJR0TD4B6FYCKQi/u8Jz5d532L6KkwSag13QaAAAARGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAACoAIABAAAAAEAAAGZoAMABAAAAAEAAACgAAAAANqKFZwAAAIEaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj40MDk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTYwPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+ChC/rNsAAEAASURBVHgB7V0HeFRF1z6EXgOEEnqVIoJSLIAFLIAKCoq9K352sXwqdrH7+6lYUQRFESxgAUWpUgQpNsBK7wQIvYY6//tOMjd3N7vJbpJNQjzDE+7dOzNnzrxTzpRzZooYOFGnCCgCioAioAjEAIG4GNBUkoqAIqAIKAKKgEVAhYxWBEVAEVAEFIGYIaBCJmbQKmFFQBFQBBQBFTJaBxQBRUARUARihoAKmZhBq4QVAUVAEVAEVMhoHVAEFAFFQBGIGQIqZGIGrRJWBBQBRUARUCGjdUARUAQUAUUgZgiokIkZtEpYEVAEFAFFQIWM1gFFQBFQBBSBmCGgQiZm0CphRUARUAQUARUyWgcUAUVAEVAEYoaACpmYQauEFQFFQBFQBFTIaB1QBBQBRUARiBkCKmRiBq0SVgQUAUVAEVAho3VAEVAEFAFFIGYIqJCJGbRKWBFQBBQBRUCFjNYBRUARUAQUgZghoEImZtAqYUVAEVAEFAEVMloHFAFFQBFQBGKGgAqZmEGrhBUBRUARUARUyGgdUAQUAUVAEYgZAipkYgatElYEFAFFQBFQIaN1QBFQBBQBRSBmCKiQiRm0SlgRUAQUAUVAhYzWAUVAEVAEFIGYIaBCJmbQKmFFQBFQBBQBFTJaBxQBRUARUARihoAKmZhBq4QVAUVAEVAEVMhoHVAEFAFFQBGIGQIqZGIGrRJWBBQBRUARUCGjdUARUAQUAUUgZgiokIkZtEpYEVAEFAFFQIWM1gFFQBFQBBSBmCFQLGaUlbAiAAQOHjwoxpiwWBQvXjysHz0OHTokhw8fDhvGxc8qnbi4OClatGhYOuRx//79snjxYtm4caOUK1dOKlasKLVr15bSpUtLkSJFwsZVD0VAEQiPgM5kwmOjPjlEgMKhU6dOUqJEibB/33zzTVghdBgdf48ePcLGrV69uieEunfvHjYc0+/bt28GYUXBMnHiROnVq5c0b97cCpaWLVvKGWecISeeeKI0bdpUypcvb5/33vvfDPFzCI9GVwT+FQiokPlXFHP+ZPLAgYPS47zzJCEhISwDw4ePsIIiVIDVq1bJhAkTQnlJyZIl5bLLr7CzD6Zz/vk9JTExMWTYRo0bS6fOpweks337dunTp4907dpVvvrqK1m4cKGddRUrVkz45xwFJWc333//vfV33/WpCCgCkSGQ3poiC6+hFIGIEYiLKyJXX32NFC9eQu695+6Q8b79dqzs3rNHKmDG4F+SYuc+fER4AUQB069fP4mLK4q/InLBhRdK0WLF5ab/9MmQzsC335HWxx2HcKljKi7BXXrpZTJu3HdeWC6JPfZEf+l8+un22+xZP8ojDz0ku3btsr8PHT4kBxGvOGY/fj49AvqiCCgCIRFQIRMSFv2YGwhwRlAxvgKWopqFJbdjxw4ZP26c9O7dO6Dz5h7Lxx9/HDZe06ZNpFKlihBgxWy8+AoVpFWrlhnCc8+mFZbAKlQo7+3JzJkzJ0DAMNJNN98iV15xhZQtWxb0RGrVrIlnnPS943ZLkzsy5nD4vSUbSP9TBBSBDAjoclkGSPRDbiHAET/3QypVrJQpyZEjR8oh3+Y+90rmz18gf/z+e9h48RXiLW3OTpgOhU05CIhgx/RLlyolxdOWwDiLmTR5cnAwCKJWUhlCKx5CkbOqqgmVpWfPnsJ9H3WKgCKQfQRUyGQfO40ZAQIUAEXSlqkY/OgWLTLE+g4zmd1YlnJaaBQ4H330kReuxTHHeO/uJa4ohIv7gSfT4LdQrgiW05wj7RUrVrif3nPB7/MhqIpLHPil4EoVjvHy+ZdfyZix38q7gwd79Mmn+/MI+F6cn3v6vLxX58en39nv4PHQrt0eHn5/vjPMYWjCHd63L2yY4Dj6WxHILwR0uSy/kP9XpZvekdav30C2btkiSUlJHgIUMN99951ccskldlZyAB3oyJGfWf9KlSpJ69at5c8//vDC8wWiy4YN+BjBD+71VKpUOUPIN994QzqddpqcB0UFKxghbMpgn6ZVy2Ow4Y+9GM6E9uyVGW25Z5OWHzyqX9pLGj/yX2+/Z8uPc+XPPn3JYKpDmMZPPySJvbpbukx/Tvuusm/dejmEvajDe/dJqQZ1pcOCH2TvilWyqN+TsmnMODEHDkjZls0loesZ0uihu6U4Zlh06z77SlY8P0D2/LlQDGZlpRrUk/r9+kqdG67MFh6pTOr/ikDsEAg99Itdekr5X46AQSfbpVu3DCiMHDXKqgizE+ZylhNC3c45x9tLyRApGx84Uzm6xdEZYh5Ap34hlAfuhKrztm3b7AyBM5qyZcrYJbQyZUrLYQia0mecInuXr5Y9fy2SPX8vkh1LlluFABIk75JYXUqc2DbV34VZvdb6cQayH+mU6d5FDiLswS3bIGT2Wq21NV98I7OPPVWSR40RAyELBmT3gr9k1Yuvy8IHn5IDmLXMu/Jm+ePSPrJr3h9yGHSI5d6ly+XvG++Sle8N11lNhlLVDwUBARUyBaEU/kU8cA7Qs2evDDmeMH4CNLl22854uG+p7KKLLmZ/m2uOgqPLmWdJ3bp1M9Dkfs0br79u7WI++eQT68/wFEyc3RQtWUKqP3CnlL6ohxf3ABQUDh9KNxYtlVhVqvd/QIqf0CYwDAUQHOlVu/FqqfTMQ+n+K9fIwstulLhaNaTia89KxY8HSYkeXT3/pEEfyJyTusrGEaOkzCU9peKwt6T8my9IXJ2aXpiV//eaqlh7aOhLQUJAhUxBKo1/AS/GHJY2bVpLw4YNA3K7e/cuoWHmtm3b5euvv7Z+TWAM2a5dO3TihwLC5uQHO3la8j/1zLN2DyYULVr8X3755bC9OV/WrF1rZwgUMtynqRgfL2WwROWcWxXjb9Km/U6lilBKqF/HBfFW10ijGE4dqAj/Kq1bef4Gs5RixzSTGqPel9q9z5O6nU6WWv/rb4UOA3HGsmf+HxIPAVfzuUel7pmdpO7550hlvDuXsniZ7MNyXvAej/PXpyKQXwiokMkv5P+l6bITLF2qtJxzbvcMCFDLbBSWzfZgr4KOlvilS5XEpr6/K88QLaoPFASlQLNrly4y6N0hUgFCI5yjsDsGigoLFiywQTijKQlBUwLaZ+Ec6VMYFYNGWyhnBRH8SwVpwlV94XFJrFNLqlapIlWg2VatWjUp6ZsNFWveRGredoMk4nvVKgn2r+bpp4ogL9YB15T1G0Ilqd8UgXxFQIVMvsL/70uco3mqG1908UUZMs8jXgYPGWy/85yxi6EIUAKGnNzkz02Xar8TL926wdp/9Bgr8MhXKMeTAS68sLds2brVettwmQg9+tt/mYQhoaI+Tbg4zGyqt2kl5XFeWglouJE/zohK1a3lsVQKMx/Ookpjb4j+FGRly5WVotWremH2b8VekvdLXxSBgoGACpmCUQ7/Ki6KFS0mR+OssBYtAlWT9+7dI7/8/LPFouPJJ0v9evXRoYY/1DK7oFEQlChRXBIqV5JjYcD56muvyQfDPsJeTGij0aVLl8izzz4rPEuNLow88tihfzSdfRHMRkph5uMO8LSCCkKqWOkyHs1i5ctJcfDM2ZRzRXnaAYSRc3ZvKDc3sBxhfSoCOUBAhUwOwNOo2UOA9ixcMuuOwy/DOc4eSmGj3W9jEy5sdr6zI+eMgCcF1KyRKF3OOku++Gq03H3PvSFVgWfPmi0HodEVKxeH0wX8jsIkrlQJ7xOPzvELGOsBeVMEMxrPQcDonoyHhr4UEAQCa3YBYUrZKNwIcDmJS2bBR8m4XFdAx8/Tl2kcmdtLZS4NPiloOHvgiQCVMaupU7um9L2rr9x2+x3+YPb9998XWFXl4E6ctioxceAtfc6SmkKG2RE/IJw6RaAgI6BCpiCXTiHmjZ07NczatG2bIZfdzobmFDr9ophp5LajkHjrrbfk+RdewPll4yx5ChsaW9ImpmpCFQiZ2+0sx592sKqy8zMpsLoPtTiGk6HVKQKKgEjut2JFVRGIAAGnZXXeeed7+zAu2iWXXAotrpIZl4dcADyDZxQ+r0xfKSye6N9fkqGmzPti/sBJAlw2o3OaZ9WrVbX3yGxN2+ynXw1eI5A2aSgC3pw7uDGZzLif9sm9m30Ll6R/C/JP90h7y8o/QwT9oAgcOQjoTObIKasjltODvlH9nt2p6snMDDeyL4Casuvk+a1+/QZy8skd7XKaEyQp+1LoFeD2QEnA+TsP3mwZ7GjJ7xzDH9ifainPb7xD5kvcJWMt9dMCcVazbOky8QsYep2Oi8zcAlZxaIM5l/Lb73IwTeWa30hrw8jRkvLLfBfEWud7P9JeDmMG5DkcWxPK+cOYfRnzxjg8McC5QyFwcn76VATyCwEVMvmF/L8kXY7qFy9JH9WvXLUSl4elLiXRMLFW7dpyFe6cad++g7Tv0EFuvOk/wiNcOKug41JU0rp1GdBasnhJwCIVDRYXLVqUIRwFz6qVq7zvpOcXTjffdJPw4rS9KSlCgfTjrFly0UW9vfB8qQLblRtv/I8VhlzmK3tcS8+fnf8/fe6SXctXyj6oEC9+5mVZhLPLiviW+g6s3xiQJiPvW7veo3EI1x0cPrA/QOGA1wrsx/lmzh1M3pRBZY15Ppy82QWRAxvT372P+qII5DcCaHDqFIGYIIBRvcH+h8HNmFxP8v46d+5slixZgj7ysElJSTGr164zCxcvMYuXLjPrN2zE0V37rR8s781VV19tMLvw4jo6uGTM3HX33dh3P2TDvv/++wbH8mcIx/DNmjUz48aPt+F27tqVgR+GgVAzUDTIEP+YY1qaqdN/MFu2brNp4RRns3XbNjPt4uvMOKkc8m96r6vMtFvu8fwmVmxglr79ntm/Y6fFeev8P8yMjmd7/qTz8xX/MbuWrbA8QovNrBj2qZlQoZ4XZnypmmbpm0PMgd17bJg96zeYebf+1/MnjWmtTjEbps20/jEpUCWqCGQDgSKMg0amThHIdQQ4MzgVJxvPxuwg2PFAzAsuuADdu7Fnbh3i+V/Y8+Dsxi2f/fbbPGnbNv0MsGAaPB5mPazcqd57NpQFJk+eFBzE+/0fzFh40vI+zGz+g1nJb/N+k5UrVuJ0gd1eGPfCk5+PatIEx9+0lVtvuw0XmNWwezTkjW4fZi9Ja9bKyjsekP3TZ4tJWy4r1rC+lL20p1S+7nLZ/Ppg2fHaIEfSPo+b9KVUPq2D/NbzKtk6dkKAH39Uv/EqOWbgS7J/02b5oQYO8QzRNNvM+FYqn9ROlg14W5b997EMNEqBh44L53gYZgigHxSBPEZAhUweA/5vSo6d8cbkZNkGq3kel8/xDI+IoY1Mot1cL+cZIAbjwr0NXsucBCGyB2dy8bfbeOeciMtW5WDxXhOnHvMK5uRNm2Qrzj3jjZp+bS/uo6QaXla2xpe8T2YTOnHMaGQ/9mc2bd4kPDdt987dkpKyVxJxI2ZN/PH4GN6SGY8bNal1xuU77tfQcQmQe0vJoLNjx3bZ9/diiasUL2Xr1bHCiOF3Id/Ji5bKIcQrWraMlMNRMIm1a1lLfcyE7AkCPJGZy2KkS2NMXprG2z65h7V+wwbwmHpgKHGjbREvZatWtYoNu3PnTvC+RfbuTbHYkIa1+4kvjzBVYWOUrpwQjK3+VgTyEgEVMnmJ9r8sLatlhcMf2fHbxbK0/LPD5PEptIMJ59ix8lRkCiorYIICslMlHQoDGmzuR7gDB7HJH2JezrBMi7Y5dAfQiZM26R7E/hBWwLw0eNxL8WKwrMfTzarc/pCfBcalkNqPvRQK0NQ0Uo97YXjeicNZkxWsaQKAvFo/pM90/dc5WyEB/nhcjKWN/JBHv3P5jYOAJabcb/LTSJ0J8kia1HT8cfVdEcgvBHTjP7+Q/xeku+vZ16yhI0fgRSfPkN0dzrNPXgZ28NvvZX3L02Xv6PEWCT79v1PGTJBNrbtIkYnT7YzFH58zmLhJP8iOE86V/d9MsqrOZvxU2d0+lT79/eHLYiZxeNwU2XjsmbLv64m2E5YJ02RX+x5SYsqPOBOsgpSePkcOnHahlJw626Yn46fJlrbdbHgyGMwf6Ww7/mwp/v1MG7/k1B9l10k95BDyZZfVQH9vx56WHq9zLgp+N7fpavnlAZ1xE3/w8HD52dbubNmHfLv4Di+Xn50ndpcDYyfb/DIdpsd8On/mnzhYQTb/L9n5v4H/glqmWSzwCGCkpU4RiAkCyT2vM5suvsmkTP3RrC5V3+wZ9Y0+8wCHlCkzTVLzU83uYaNiUq5KVBGIBgFO59UpAjFB4NCGZLP1nifMusbtzZ6vxtk0+Ew6prP+jiUeEDA7B30UkzJVoopAtAjonkyBn2sqg4qAIqAIHLkI6J7MkVt2yrkioAgoAgUeARUyBb6IlEFFQBFQBI5cBFTIHLllp5wrAoqAIlDgEVAhU+CLSBlUBBQBReDIRUCFzJFbdsq5IqAIKAIFHgEVMgW+iJRBRUARUASOXARUyBy5ZaecKwKKgCJQ4BFQIVPgi0gZVAQUAUXgyEVAhcyRW3bKuSKgCCgCBR4BFTIFvoiUQUVAEVAEjlwEVMgcuWWnnCsCioAiUOARSL1go8Czmc4g79H49LPPcGnUbunduzcueaqU7qlvisARhsAGXE729ddfSylcf3DlFVfEnPtff/1VnnnmGVwEtwcXnu2VU089Vfr37+9dyBYpAzgkUaZNmyavvfaapUV6PXv2lHvuuSdSEgHhkpKScHfQPuFtp/zLbbd02TIZ8MorsnDhQiHmZXCx3NChQ6Vp06a5nZTSC0Yg2hM1w4XHRUvmwgsvNLhN0PsrV66cWb16dbgo9i7y+++/3wvPuIyDW/9CxmEajzz6KK+lsnEWLloUMpx+jB4BYnvNNdcElAXL46yzuti77aOneGTEYL779etnOnXqZPr06WPrZF5xjgGTOfnkk219PuaYYwyuq45p0rgEzSxduszgKmqbJttR9x49DC4/izpd3DBq/vjzT3PFlVd5tK655tqI80Dcx4wZY7p06WKqVavm0SBPVatWtfUOgitqvkJFGDFihMGldaZ+/QbmoosutnWc6UyZMrVQ1+1QWOTHt1w76p8VdeGixeaMM88MqDBPPf102ILEFbgmISHBC1+5cmUzYdJkgytlQ2KxYMHvpmTJkjb8y68MgDDalaedQkimCslHXAVslqADOrd7D688OnTsaP76+59sdUJHCiyst507d7Z5btasmcFtlnnG+sCBb9t0ObCajA4vJWVfTNNmx46rrM3KVatNw4YNbdrdzj7b7E0J3d4yY4YCa9eu3Wb5ilVeG6bAwWwks2jWj3w88sgjBreBmtKlS5u+d91lXn/jTfPgQw+bKlWqePVv8+YtWdLKKsAiDEQ5WMLV1GbK1Glm4eIl5iGk3aRJU/PjrFlh+6as6Kp/5Ajk2p4M71xPxH3r3bv3wCAh3Y0YPjzDNbLO9/PPP5fNmze7n3Jc69Zy3LHHSrG0a3I9D7ygYsott9xsp9SXXX6FXHLJJfaGQ15bmx0HiOTWW28FjZLy1FNP2Wtys0OnsMQpiiuDq1WrKj3P7+llqWvXblKrVk0pWuyIW1X18pDVC+tVOdxciQGOxGOZJvjK46ziZ9efy0MPPvSgXaZ6+pln5dhWLb3robNLM6t4bCu8mrlSpYpSpWrV1ODo0rPTgnj7ZukypaUyaCUkVElLmvIha8clq6efftq2uZcHDJC77rpHsAoiN918s7z/wTCBQLBE7BXVaKfZdSzb0WPGyG4srUOoSIsWLaRmjUS59ZZbZex338ngwYMFQk7bf3YBjjBervUerHS8VhczE5t0jRo1JSlpnfz9998yb/58Ob5duwCWuLcyZPAQ+y0+Pl62b98u5dHYy+GqXHv9bEBoke07dthO4HIImP5PPmkbSmZ3xAdFz/DzANL/9bff7D3p25D2QdynXrwQd6YZAAj6YDuNUqUkoUpq+dGbHW9pfIvLpiAPSqJA/iyCevv6G2/Ijh27sE5fGnnNtXFX2PxygLN4yRJp1+54Of744+Xiiy8WXtHMMoi1YxrsxHOjrrNesA0WLRo53+z4v0UHT1cKdat79+5SFX0GB6n0K1O6nZzVpYtMnjQpx1BgSU9+/PFHS6dS5UrCa7hZnzmwTElJkT//+FPbf45RzppA5LUja1oYEhWxlYVBO57c0RYm3z/88ENbgfju3KLFi2XGjB+kdes2UrVaNfs5Lq4oGlpRFyTgScHz2GOPy93YWKyRmCilUFEyc2zIK1eu9Db6gsOuWb1afv3lF/v50KHDWKHNfMREekuXLrWbpcG03G8Kzm3btsmuXbvcJ1uJMWWXJehUSCMaF0maWMfPkCYbEHnlCC4ax5GuG0UyHht+8Ewxp+kxT2vWrJFl2IjFUlXE7MUKC3a2CZUqS9UqlaVyxfhMZxOR8BBJHSCd1pi1Dx4yRO644w7MBioF4O4HZQcGVxz5c+aTE8c0WQexRyqHWd8jHDhknWfU6QhpkX8KEiof0HGjH+vdtp9gvStRooQVtm++OVDm//4HBpxlbbhQ/7H+cGCamWM+//zjDxukVKnUAQTrM8s8eeNG8BF5+88snez4RVKukdSl4LSzLq/gGHnwG0zlmsPswAwf8TF7UnM1NgHP6tLVvteoUSNg3Zebhnfdfbf1e+bZ5029evXte68LLghYl+a676BBg8wJJ55o11RJl3+Y+Zi7sI6LDj2Ad1Rg88MPP5gOHToYaI/YsC4OZkkGmjB2Dfazzz4zjRo18vxR8ezaMNeH+ffqq69auqQ3depUc+mll9rNSNJCx2uOPvpoM3HiRG8/CB26QQPx6J1xxhlm/fr15qqrrrIbjo6H5OTkAH5D/YgmTTTMgDShNWPTdN/J603Y5EVlDZVUhm8MN+brbzyab2HPwMVlHh1d5od5jCY9CBZzww03GIxePfoYVQfgTuwnTZrk4RprLILzdNppp2VYo4+Gh2jqADSzDOskN7kxKAgoCwzAzJ133mkaNGjgYUXMmzRpYrAyEBA2sx/kffr06aZXr14Bex3Q3vL2Nrt1OztD+pHmmWlzc7452gP5u+LKK7Pck+Ge1xP9n/TydSXisJ07x7S5r8N92eDvxOwC9BHEzLWpmjVrGioPBWO4adMm07dvXy8cw7NPYB3r2rUr2n9jzy9U+2ddcP2Be1JRgfzR7Ua+seRow3z55Zfed9ZzF949Bw4caP0jLddo+5NoysvhnJdPjq5zzfmFzFVXX2PefmeQV5DfjB3rFQQLqGrValZY/PXPQlO7dh0bLljIsLN3lQlTXFO3bl1PM4TfL774Eq8iEugZM2YYdlz0u+POvmbkqC+wofiWYUXkN6hXWiH2+uuvG/JHmvzerHlzc/kVV1pNGX5nR0tNnzlz5ngVs/+TT5kRn3zqadOwAx/77bc2fW6Afo38QZ3a0mt3/PGGm8gUhuXLV7DfmM7q1Ws8DEKBzjxEk+aYb77x0mwB7aRGjRsbCnRqhPk3UN/ApmokLpyQIV/MY3bTw4zKYD3c4oC1cfPcC/9nPvxohKFGFXHh30Uoyxug3TVv3nzDQUissQiVp5NOOsnWD4dVtDxEWgeI86hRn3t59w+WXsVAyNXhrt26mRf+73/mttvv8AYr9erVi0iDi7zPnj3bamsS3z43/sd8/Oln5oNhwwz2Pr20g4VMpHlmOLpohQwVTGbPmWvKQtnBlT2WzKD1ttTBnuHJtLDsZds+BcLtd9xp2+J/IVyoNEE6bdq0CRBwWMUw119/vUlMTLT+NdAHXH7FFebKq662TyophGv/X3z5lZn78y+2v3E89n/qabN16zZbN8ngxx9/4vF/7bXQqksbyLFvcwNtxr3+hj5mw8ZkM2DAgIjKlXmNtj+JpM9w5ZUB3Dz4EDMhcyVG8StWrjLUGCPYl112uTcqHvFx6myHHfqGjRvRMaYKAb+QYUP830sv21HSs8+/YGbP/dnMg3YZn34NqFWrVlmYGP7mW26xabVs2cosW77CFu6atevM0A+G2e9YajN79u41m7dsNUuWLfdUJ2+6+RazGJpVSxGHmjfbtm03pFu9enUb73GMvFZBQCSt32AWLV6KzrGl/X7CCSfYPFEgsSJ1Pv10+535PeWUU1FRfzXTZ/5oqqdV9FWZqHMzExwF5STNTtCS+umXXwwF9/iJk71Zw1lnnRVRxxROyJC3UHmMJD1W7rfeesvDhZ3c6jVrzbqk9WbC5O+977fceqtZCYx3QSBxBJsXWATn6YQTTgzQbMwpD+HqAHH+FB2+68C2oD46jG+7/Xb7vVWrY6GtucRitXTZcqgd3+yF/+XXX234zP5bu3atp/XFjo51m3WUdfjH2XM9oRUsZKLJM9OPVsiwbNm+BmIASrVihwE7/AcffNBwQBLsaAbhBnAUlstWrDTrN2y0/ctDDz/i0XjllVe8QRxnQmyzHU8+xfqfBhX1RUuWol9YaTXi+O5Up4Pb/5atW80maLb5aX81eoxdjWF9Zvmxr3K816pd2xNwFKLLIeDiMAitUKGC1c6kFuxtt0VWrqQfXC8z609WR9FnBOOaV79jJmSwQY/OfAuWb662hcGRC0cCLKDOnVM744mTvjdbseTlCjtYyGxM3mQ7/7VJSQYb/7YCsoJSFdEVsFte4TT8THSm/M6OeglGRkyL39m4/oQqLulQZZXfSa969dRRzp2YVrNz4zSd4VnIrmPkFHs5KjUrLUcrrDB39r3LSz8Jy2KsGFQNhWad/c5p8pyffjZbkF9i8OffC80ff/1t02DYUI6NLydpEl8K4a3Ah7wQu46eDUbLgOXKUOnzG3EJt1xGf38eI02PWF577XUWF3Yqa9clWZz5PXnTZk+odsESBjsYzmLyEgt/nvxCJqc8ZFYHmPdPfELGqeqybv70y6+YbXxkps+YaXbs2GnrIkfHI3wjZ64KkL9wjnXs/ffft5hzxj1n7k92eYfly7RZJ5s3T13i8guZaPOcWieiWy5jHPKwHku7X43+2kD5wWtLbLtcrfjuu+88YcG8DBkyxIbhLGYWBCTxYFtkm+RAlrMUxuXqATt5OuaFJhKnYtmLfmeccaZtu7aNo51D2Sds+3f9xny0JwoLxu/X70FvtsKZZ9my5exyGf34xxk4Hfn9BCse/MYtg+3bd9j6Hm25+utluLq0Y+fOqPoMy2A+/Jdr2mUANcChs7CaJxdB1XjYsA9lNzbDR4/+Sk46qb1MnTpF2rRpi7/jwm54onHA8jceGmflrLYZ9gMsfW6q16lTx0sLa692Q90cNoK9GJk0caK16IWRmzzYr5/AwE4SoFnip4PKmpYu64JYjaIS0JJx2mqoZDJ37k/WDzr2Mn36NKvqSFVP+m3elGz9+B83IBOrV5cicUXsH79h2UqOatxI4iuU508bF0zaDU6mHcqhcuYozaMaHyX16taRCkjTaoMhmdq1atukMNq0GIVKN5pv/jxGmh7zlbIvxUuGm67c4KWjpg/Vh2mBXaJ4CSgaFLO8U9MvJ/hHyht58OeJv53LaXlkVgfQzl0yAU/W+aObNZVGDRtYPEqXhmYftMFYZxo1auiFhT2N9x7qhbzPnj3HeiUm1pAmRx1lFWVIi640NsExyrbv/v+yk2d//EjfmU8qO5xySkcZNnyEfAFThlcHvCIbN24QrCDI+VCjHzfuO+nUqZNVFJgzd64ljaUvWOin54XKQJXRtmHzI0nr1sny5csFAsxu7DOvrGtolals4VEcphGu7rGOpcqHjO2fERi/Xt260gaKST///BP4GSdPPtmf2jB4Hw+lml3y8KOPyvPPPSs7oIAw9tux0hJq6JAy8smnn9g0r776GmjQlYRJRvGoy9VfL8PVJeIYbTuxjOXxfzETMixaVoL2J52IBtIY2k5L5KOPhsvvv/9uO7xLL7/MVnbI/rAdICvJ33/9JdhDgWCaKutQkdhh+h2FGRttHNQo+/S5UX77bZ58PWa0rIc2Djb+7BEamIZbmxgnRPzxQ72zsc2b95v1wma9XH/ddYHB0OhZwGz8SUnrBXMTW5mdAMHIA406tYNgRHamWbmcplm8RHEpic7bqRtTFZd80BkOtkL3a1mxFeDPBuvyGE16tH/65OOPbQfw46wf5bwePSydTRDWq6ABSId9MS+tvMTCnyePAbzklIfM6gBG2f6kvHd2bDYe6gsHTxycLViwwGoKYs/CC2dLNIygYiC2CafBhb05dKzFA9SjWYbscINddvIcTCOS36npF5eKMF2gGvO1110jWIWQF55/DgJnFLQO98lll10mWPKzdku//pKqjRYfXxF1vGRAXooXKw5hUE9mygyrrcY+onGjRpGwkWkY8lgCNkUwVrVCZv78edCKXCt1MZD7bORnUIcuK+edd55MR79EgThxwkS577//hSr8DhkHFW0Oolu3hs0f+jC2yWjL1V8vw9UlamdG20+5/iHTzOeyZ8aalosJUB2ZtjPn9zxfXn7pJfn++8kyc+YMoV0Mzx1jRcf0NmSKFBwzZ86Ubt26WVVcFlYTnDOUUDnBjj6n49wk59h/UiAlJFSWV2Dcdd5558vAgW9aFeWNUFW8++67ZezYb+1MimcWBbvgkSUbKZYqbLCT2reXt995F0IldRTIts3GyI6CQqtWzUS0+cAe3F9BgtMK9zt30kzlkWmgXoedJYbjIZrvqXnMOj12nOeec668gTOusN4vj2H0lwD7G3Yu/0Wj5MiTI9Trrr/Ow7ggYJE7PKAQonScKd92222C5S5bzyigj2lxjFXzDxQ04QlTdXfz5k02wKFDB9Fe0svJxQqssalfc5pnRzvSJ+sG+we2o3Jlysr/vfgi1PG3yveTJ9vZ7QIMSLEEJtu2b7Mk7eieFdvnKAwqo93T8R2KAD7fyF6D27+LxT6F57E983SqsfZoDF6vvfZaGY+ZzBlnniXVYXoBLUsrZGbPnoV+ao+MHDnK2uBcjBUczhiZR7qclGu4/iRb5RWEn8trLJ8xFTJknBXokksulVdeftk2Gh7K17v3RTDAqmI7wXBChh35fffdZwVMQ4xM3nzrbaldu5aNww7+mKPTR74OIM4YatWoASHTQ04+5WSZOWOmvPTSi3Y2NGnSRNtwaeXPyuh35CnAQWjUqFkDS2FLMQ1Pkjq1a3o2P/5wnC1wlBhMzx8m4vfcThN5DNWRRMxPtAHDpMcZX716deXRx5+Qm27sY0fmp5xyiqXOBoi1coGWEDCu7TVICu1cxT8Mb5lmMbd5yDSxVE/W+StwSObIkSOxJFxX3hw40B7gyM6O9i3DP/ooAioc8xzG6Q3V7VKuPVEDeQl2B/aHGNzlUZ6xp2FXH9zhtsxf0XJl7epAr14XWiFDfv/CKkZTWOrXqllLlsCuzn86iMsPBQ/p0dVv0MDOMCg0ommTGdp/GnHWz0aNGgoUiVBv52OF5GvgWs0ulUEtHLOTUnamc//991nBMmnyJBk+YjiW5ivIRRddZAfRJJVb5ZrGVvojj8orPcHsvWUc4mSPji9WaoVmRadjJ3MU1oShieWFueqaa2zn7D5wuSnY7du335vyX3DBhdKubRtp2KC+1Mc6aQXs04Ry83GyQHLyRrsHUw/7Nj16nCvDsETnKvNMWP/6lyrc+uzWrVsDOuQiEB5s5HRr166RDevXS1nMgPx/FGgpKXtt/lyFdiMil/dQPIb7lh9phuLF5YF+/ncX1n2LJo9rsczw8IP9BKrdMmXadBn5+Rc41mO8zMUyyNuDBslJqBsc0bpRX15jESpPec0D8YVijPCoJbo+N94oJ514IvbValrj45UrV9jv/M8aU3q/Mr6Q95qIR0cjTthnBATaf2C/Xb7mRyiLe37ZzbMjwH3RrBzbOlcnYKcWYNjMsueRN/t8+3f16zewdbAuBil0G7F3txQDP79jmj//lLp/Cvs1LNFjHwaDikhcuPbv4lqesATdtVtX+2nGjB9kKE5u5kkYsLWx+zt16tQWmA9Y/6HvD8XAdoacy1MMsEzJvo8uu+Uaql5agmn/5bS8/LRi+Z7rQgY63pZftznJguLmVy8ICrrWbdpI2zatA5ZyeGw/XfCIonza5uRMFC5HDezYt2zZLOdjLTTYcSOPVtQcJdPinWlyWYaCKf2omxp2/4RxOQWthg17umnTptqrA/jOUwJWrlppz0bjb05zYb8RsBcEtWvB6bE4FqSdxzP3PfbuSZ0R0RLZ7oOQQISOe0ow+rSho0nTYQeNm8A00Zh37Upd8kvZm77xnhU7/lMCUoJmeMxTtOmx23nvvSF2j+HYY4/D0k8LOeP0ztKh/YnSDIMPdqJUVnANkvzlJRbh8pRdHrJbB9ihJGOPiqNeOu5LUHGEdZ5LSM8++6z9zv/2wS8zF4fR/TnndveCPPH4497giuv4XI5zs4L9sLp3Ljt5ZlxXv1jfQowXHXn7ZPq09OfA7h0MMFxH6gKN/upL+8ojpppBCaJYsaLYn7ncExxvv/2214YZl8fG/PPPPzYOz9pzAxVHb+/e1D3cXTtT24L7nln7pwKBc1ym79mzl/1J3idOmACh003KY1mOMzAqrJx2WifrP3bsNzY/sMexAojCLrvlGkl/kt3ycnnLsydAyDVHdWQaVoF5kwijwCXQRafDurtVXZ05a475/Y+/rK0Kv6NBmY8/STdqoiqzO76fKnyXXnaZpUV6NC5s3759gG49vw/HMd5UZ2R4/uYf1lENtEGsgddDDz9sv5WEpflEnPCMisKkrfpj37tSTx1gHFpT9+p1gdVtv/rqq63aM9U7Hc3SUGWmpTDu3/CMwh5+5FFLh/nAfRWeASRGSGYm7GP4PVKHGZZV6Y02TQjQ1PzBzmDu3LlechjB4mjz+tYPlR1q31Oz5AebltbA1eWZ9jUQmB5N5jHa9Ij3jbBtcDRZxpjZWryJeatWrczll18O1emvPf7yEotwecouD6ynzGtmdQCDiAwqzKwrVHeF5qQX/9rrrjM4CNZauJ8IQ1FnPIj1/pD2JK6g2B5oD0N8He40fOUJFMSeBorNYYBMv4owIHbqt9nJ8w8wgEZHbGlRlXjZsuWOjZBP2qlhsGHDQyDAQPpeg/t07MkePEWCdZV8vTzgVWuUSKyo6n5B7972O/0eRpueN2+eGT58uGf9TzsU5pnhnfvjjz/tqQqMw5OYcYai88qy/RMLOj5pN4O9IS/9T0eOSreLQf0e7Tslg6cfJOO0ARc/u+UaSX8SbXl5mc/jF0raXHHM8DnnnOMVBAuWlQ+zE0ufnQ1tUVjJGJbgY2kgIDzjYEQL+wDoliM8jQp7nHeeV/Hon4BGTCMpqELbuJ9+NtIKGWy6mbbt2tkjHRjO/4eLicybOCKFlcUVPvn5G/RPPiXVWIvhy5QpC6vzG80qGDhRB50GW7Qudh2ro0lDuUHvDjFr1q3z7G6c0akLwyc04ryOMyuQiQf1/qNJkycK+NNjA6UxHfOI5YgAP4b76aefwvLDOOy8/PT4jpmhpUf/7KRHnKfiaBNoBmWg7U+LHc4HH3xgYcorLNghhctTdniItA4w3S+++MLiwTbijDE5UKKdEm1FHDY8QuWWW28zC3wdJv0uwVFHri4H1y3yTpujWbCs58CMbYpxWD94isDEyVOssbBLg09ofVoy0dRBxvHT4DuPrAnHFxMg/XvuvdfwVAwKOydUGJfvrY49FgJmgDXW5eCUeeGRMTSu7oerAJxhM8NT6LLN33vf/daI2n+0zEYc4cQ6Fczfb7/9ZvOZWfunsTDTdo52Oc42jidq0O7OCTPmlWm5sn/s8SesHY+Ly2e05cq0HT0//8H9SbR11M9TXr4XYWLISI4dgJENyZuwnLVVDhw8ALW9OGubUrtmTbt0xQSYFCqSTYtrs1T3g+UulqL22mUCLpnQnqUWNt2pjguBJChQqya8CktY1Bxp0KCBPTgPhlZ2CavJUY2tKiQVCGDdLxAOsnXLFntqczEs1SXgSHPq5NNWphKOcndqzOSF2iDrsfS1evUaLOck4zjwJjZMlYQEyzOX3XA6gMDA0S5lbEL+6kCFkfR4xHl8hfi0deT9shaqk9uhkYZKZ6fsPPG1Bq4+4CF/wVP4cGCTJy4ZRp5mks0n0+QGKKfwtYEd7U3WYR8JhqsB/PCYc+4rheIHjUZgwIm0t2A5JvXgSmKVgLxWxxUAaOvIY/TpUYvsiSeegD3B89AObCKYPXpLNweQzuLFS2To+++hLHcLbZumTJlil1LzAgt08KhbG0JiSC3E6HmIrA6gc4DG1A75Z+Ei1LNS0qzpUXZPiuXI08bXb0i2G/086r5+vXr20EiqsaIzQ/1IsfuZXAquWrWKXbIJVZ/YvmhTxvbFMuWBsNxnZJzy2GTHyRZ2yawkVO25f1Af+x6ss3SR1EGqsHNpEAbOSGd3avvF0lY8Nr1t+8X+SijHfgLW9DafrGf7YPPDfU/yUa16NdteqNrM9sX6x/6C5cDl9y1YNuT+BjU/t2zZJLVq17EaXMwP7WV4aK4/PPuDnbBn4R6Wax+uDZC3zNo/l+ddX0WecUIF+pe1OKm7rDQ9qpFVSXZpEa+/UZa4l8fiSK0zLqU5F225cvl4I/q9SPqTaOqo4yevn7kmZJjZ/dBYIaBuP4I62Vim8mw3/JljeIalcOC7czYOKgs7QjbGAwcOWjVXJ7io9szOgXHZkCiMKJxs+qDF7+6P665FUfEZnsaWpOkqDtNLpX/A8sA4rNT2D+FdBWLni+UHOQg+uEnKjUXS9NMjHTYYPp1zmmfBaTr/cE/mIydplkxr3K4sAIF15IcdA++N8WPg+GC6bExM25UG8eO6L/NKFyqPmaVHzbslS5ZK8+bNbPl8P2WqVUlledERL3aaz8M+YtA7b8MGoZ4sWrQQHU7qCduxxoJ1LVyenCDOKQ/ORsWPOWmyvqVgb4Llwv1Dlx6/Y5Rt6z3bEe1AWOfpz7ZCzFikrNOuE7ZghviPYVmmjEe6xJ1xaL/Gb6zTJFY0rijaKYwG08ol0jyn8gqefMoD5NPaa+EZyrm8HzzI9nvYCgC2L4492bZS85WaXz9mpOXaIYUvT07nfo1rj/5OnWGZdyoPBfCW1gZcPoPxCW7/pENHnokj+yIKKw4MWHecYz/E/Us8bBsjL8G8R1OuLCdX1i6NzPqTSMvL0crrZ7q4zWHKBNV1OJGQYnhWKP6Fc7bCotMkXdu4EMdfeATX/ebTHf/P7/yjc403VBqp9EvaTs2Fd/QYnu+u4gnsGslDKHr8xg3a3HC5lSY7rmgc06W2Df/CuczyGCo94jV7zmxbFsSR2j+cUfoxZkfATWC69h07oFNwIi738A/Fm8tjZnlimNwqD5eeo8l6XxadiR8L+rGDSTXcS8XB7186TQj4aWX27uo3y5T12193mb4pld5+/HQizXMqr6kDBn/8zN5J29/uXVt1+XTPUDTYeTthEqq9+uPYNonZSGbO4cNBTWb0yBMxZB2mC+aRAodlFsrPfsR/0ZZrNGVNfiLppxwvef0MPdzIay4iSI8VIrhwg387MvzO8PyL1DFOOHqORjT0XJycPvMjzZzy7OKz4bZt287iypHgIw8/hGWi7bbBsdFx1vQGLgyjRhGXpy6FPRVnWuFcQcAiN3nIrL5FUh/D4RT8nbRC8Z1Z+n4aoeL6/XPy7niLNr/Rhs+Kx0joZRYmMz9/2pGG88eJ9j2W5RUtLwyfa8tl2Ulc4xRuBChkuHc29IMP5cknHrd7ABzF1qpVy3Z6PKeKywg8Uub/XvyfdOzQ3u6vFbRGUrhLSXOnCMQWARUyscX3X0+dsxUqMnDT+g/cUrgCNgg7du6wM5b6DRrAjqkRDAdr2ZspeWgj18s52lOnCCgChQMBFTKFoxwLbC44m3EbxDyN2W3GUqmAsxrut3G9O7PN4gKbOWVMEVAEskRAhUyWEGmA3ECAwibgD0S5YcqlMZ255AbCSkMRKJgIqJApmOWiXCkCioAiUCgQCK/KUyiyp5lQBBQBRUARyE8EVMjkJ/qatiKgCCgChRwBFTKFvIA1e4qAIqAI5CcCKmTyE31NWxFQBBSBQo6ACplCXsCaPUVAEVAE8hMBFTL5ib6mrQgoAopAIUdAhUwhL2DNniKgCCgC+YlA+COQ85OrIyRtGhfyzhk+aVDIk1BpxX4kO+blp59/li2bN9tsVMK9JSccf7waTOZzoS7HcTyPPvqo7MR9Sfzj3SU8kXjq1KkhD7+MFbsFhY9Y5U/p5j4CR3aPmPt4REXxk08+EVwd7MW59dbbcKrw60d0h8zj+W+4/np7zhgzxuP5FyxYYE9O9jKqL3mKAAU/T7H+66+/BDc7emnztATeO+KuuPA8YvRSUPiIUfaUbIwQUIv/bALL87jOOusse5OjI4Frc2XxkiXeJV/u+5H03IeLtI5r3Vr++ftvy3aTJk0hZObbO3f4gR3NxIkTZf78+dafQgjXbue5YC0ofFgQYvwf88pbYlesWCXt2ra2s2cmSSGzc+cuXJOQepdJjNmwZR9LPv5NZRrrsipQ9FGw6rKBwNJlyzK9QzwbJAtElD24z7z50Ufzxiz717RZM9xRvsfjDbcTml4XXOD59+7d2/BbXruCwkde5RuDGrNl61ZTu04dD/u4uKJm1+7decWCTSeWfPzbyjRPCy4fE9PlsmyIfC4pffjhh/amzODoY77+Wlode2zA9azBYQryb46Ovxo9xo6QyWf58uUC1vwP4dpcHtnvnD1VGbM6rKe5T3nyLCh85ElmkQjLhTc45veeXyz5+LeVaV7VnfxOR4VMNkqAS2UfffSRjdmpc2eZOmWKR2Xcd9/Jg/36SVzaVa30WLNmjXz55Ze4z34vjrrfZ9fXK1WqJHfddZesXLnSbt7++uuvUrZsWbnmmmukWbNmHj2+bNu2TWbMnCmzfvxRduzYIYmJidKxY0epUqWKDBo0SOrXry/33HOPjbMEy3WTJk2ySxv8QIWERo0ayZlnnmmP3B8yZEiAcKSyQp8+fWxc8vn5F1/I7l27sbG8195cWaF8BXnggfutPwZDMmHiBFm8aJH9zf+WLVtqeeBNl0zrqquusvlwATALkh/B94wZM+ylZQ1wh8wZZ5whx0IQh3Pcf5g3b5788MMPwvzwnpnq1avLCSecIO3atbNXA2TFB/GZCczIM120OGSnvFgvfvrpJ5k1a5YtVyqFVKtWTTp16iSdUU/IQzRuO24RJXb84xXVVUFrO+pCJC47uIejmxM+IsUkO3VrEerh7NmzZeHChbILl+M1btxYmjZtarF2VyUH54nt7WcotnB/a+3atfba5IoVK8pRRx1l21S9evWCo+jvnCKQj7OoIzJpzGLM1KnT7JIF7vU2Eyd/b9DB2t8oC1O0WDGzfsMGL28Mj07HlCtXzgvDcA0bNjRDhw41GJ0GfP/gww8NlyTo+ESnHXJZjjTcH0aXZv/+/Tb86NGjTalSuLzd53/eeefbJS10VKZKlaoBfuQdnbpxfKJDD/CvXDnB0qb/LbfcYtBRBvj70+H7P/8stLQY/r777jNo7BnCk8Zll11m6XpApb0MGDDAENdguu73ZOAdCR9vvjUwRzhEWl5DP/jALF682EDIGwiUsHxDM8ziEpzfUL9Z7hhsRFDuGZfLsot7bvOBvcmIMYmmbpFP1uPbb78joN25+sFny5atDARzAN4Q+ODnXoOZYPgyeuwxr+2FwkO/ZQ8BjvTURYEAbno011x7ra2o53TvbtasXWewUR5Qcd9/f6hXwdlhbN+xA8JoSkAHTcHABpFQpUpA3EHvDjZMI7Xh3er5sXE8+fQz5rNRn5vTzzjD+04apLUb+yZMa+vWbeZ/L70S4N/t7LNNSso+g01bM3vuTwEdvz8u+Zz0fSCfmHFhT2avFUTDR3xsrr+hTwDtJk2bmgf6PWj6PfiQeRSNdMOGjeYQBEw/fHMNHwoRZsw3Y827g98zJX0C8I477vBwYhG8+uqrXhyMLs2w4SPMoMFDAuKMHjMG34dnysdDDz9q/lm0yLz4v5c8euQlGhwiLa93Bg0y5557rpdOixbHmK/GfG0+/Gi4iUceHAZ8zp+/IMuallm5dz49uNwDhQzjZgf3UEzlhA/Ww+7de3h5zwoTDpAirVtsG93R7hyuCQkJ5q2B71jMMUv2vnOgsgz7pnTMy2uvve75Me7z//eimTFrtnnyqae9dnnf/ffbeh4KD/2WfQRUyESJ3bZt240b7Q95732zdds2c9fd9wRU4IsuusgKCpJmBedMYWPyJhMfHx8Q7vY77jS/zJtvrrjyKu87Oy2G/+yzkd43NoqevXqZlavXmKT1G8y48RMC/NwGMNPCcpyZDEHhGiGfXbp2hZBJsUIoedNmU7NmLc/fHzeVz2TDDt7F5/tubC6zcW/essV8N26858cw7LiXr1hlVq9ZixncRpvO559/ERDm5VdetX5r1yWZrt26eX5lypQxmzZtshiNHz/ea+yke8edfQ3Dr1m3zpzWqZMXZ/ToMYZ5yIwPYrRj504zCbMelw8+o8MhsvJ64623zFldunjpsLPcsDHZrEtab/5z883ed6Y/5L33Mh0ps/yyU+6unn3xRXS4h6v6OeGDNFkHibXDPitMKGQirVsjRozw6JJ+37vutvWEZT7o3SEBfuf37GkHPFDzNh06dPT84uMrmpWrVltFilVoUwzHNv3YY4+HnF2Hw0m/R4aA7smgpkbjvvrqS7svQiPFbt262c3Yrl26yIBXXvbITJ48WfbvP4D13tR9Cm7WUs2U1ww7x2+333EH7rZPkAcffBB7JmdJXNE46dC+vd0z+eGH6S6ofV5w4YVSJaGyVY9u27aNcB2ZezV+xzX/Ythj4WZ9KIdZi5QpXVqKlyiewdvGtXyWsUalwQEYt3z58lK+XCDtokWLSdWqCTZvbsdh4qSJAdG7dz9XKleqiD2eQ3Lcca1l/Lhx1p/7BuPwfskll8h3eKLKevEwWpWEypUsFi+++JKsWLkCm97F5YQTT7A8ZMkHsOBeTigXGQ6RlVe7tm3tZnzz5kfbJ/ebXF6bN2sekDz3Afx5DPDED8wAsQ8VfbmTDuNOgGq532WFO228WO7BLid8kBaL8cLevbG32DwiTMhDpHVr+PDhAex279HD1hOWadeuXQRLxZ6K93fffiv7UvZBaaKIrF+f5MXbvn0b9k0fkFdfew1tKkEGDHjVqognoE2HwsOLqC/ZQkCFTBSwYTQv2DOxMc4++xypgE63BDr1ttiM5iY8RuXWb8uWLTJr9izpjA1fV2nd0yXHTf4aidWlHJ6Y2kuNGjWsV1kIIzZSbnz73VGNGtuOvBg22Bm+MhpHsJCx4RGZDS6cIx/BvPjDhvPj96KgGxekRcYuipv+tD6no3Hgz9j89rvHHn3ECgh2sAt+X+D3kuXLV1hFiLlz5gZ8b9SwoSfsWhzdDBuzjSzfFJJMLys+MBq3nUsAUd+PaHEIV14lS5bA5v6Fcu4550rRYkWlYny87VipRMF64Hfs8MgX+Q/l6JfdcmfcaHGnMGF9CnY54YO0igGH3hf2lnPQRiLBhPUikjKlJuM/2OT3u3qwTeMmP+t8ZSjTJCbWgD3RchsEMyQ7OKmPzfz2HTpASWWZFxUzIvkamqA33nijYO9QqlerasuNgz91uYuAIhoFnitXrZJpOMaD7vNRI2X6tGno+DhyM56AsZ74b+zYsXLaqaeG7VDYyRXDLICNozRGXyXTZjn8jf0Tq/3iaPFZo2YNTy06rkicZBx/poeGGEn/kcdvbNi///57QKojR41KHd7iqxVWvo5t85bNEDIHZd78QKFapWoVT1hiWU1KoUOkY/zMZgM2UNp/uYlDuPJiUlQthiKYDIfGIZas7AkJ1AYLdodRT9LnasG+IocPHc52uWcHdzuaychGjvggOdbh+ArlQf5wjjHxs4flXFmaScIBAAANVUlEQVS5YoX/k1SrWtWrJxRU5ZGu3y3HcTzYqxHsG8qvv/wif6cZGTMMj+d5+eWXZfDgwfL+0KHSq2dPf1R9zyUEVMhECCRHd8OGDbMjUU7JOfOwHR7jo/OoXj1RNmxY71HjktBzzz0XVsikBkzvctgwnTuMxsmO1+9S9qbY9Nw3ph2pI++xchk6/PQs2SShnSYTv//edgTkGNsOwvwxXnEsf1WDMDl0+JAcgHDyO6rNxvuWu/z4ZEgTEUN989Pje85xSM+cn58FmHXy9Ac3kz2qSROBgoQkb9wIe6oPgtkI+ztH5Z7OmqUfCe5BUTy+csQHqLBucqCRU0xClWlpDDh2Qo3fOa4ueA4VLHiWWKNGTTvLro8ZzyefjZS33nwTgm+YVXl28WgWcAWWDqkOnZlqvQuvz+gQUCETIV7QmPFsY3phKeCBB/p5FZojtjVr18g5Xbt61P78809ZvWo1bFQaet+ieamKEdqOHRgep7nVa1ZjyaixJ2iChZALF+pJe41Yud27dwWQZucLxQIsg6UuTWzdukWqYBkjAXtPwY6dEZfZuH9Vs2ZNa1viwqxZvUbq1qnjfmb5DOYjVIRY4LBhwwZrg7Q57UBRLp2+P/QDu280adLkqIQMea6KZZvMyv0gDV9DuOzgHmqpzJHOLh+Mn1uYBJcp91ZaHN0CwmCWY1M4E66MvTs36NoNexnnuG/aoEF961e2XFlpWL++PPTQQ3LlVVfL0PeGoD0Ps3ZrDM+68fnnn0vLVq28FQN+V5dzBNKHzzmnVWgpcET1ww8zZCkMA+l6nn++NKhfVxo1qO/9tW3dRuoEdYpjvh4TMHr2j7oOYWkknOMyT40aiQHe32M24EZ2mzdvklWrVgb4ux9sbOwg/C5pXRInW9ZtQtw1q1d73hSQwc7PZ7BfqVIlAz5BKyhgcY7pc3nCOfI8EkuL3Espi1Eo//g+d84cmTB+vF0HZwdZDx2A39HY1T/zgIabTJ8+3cMgEj5yE4dQ5cW80fDVCRjyf+653SEca2NmWy1gs5l+/vzwd7Cz5Y49Bb/zl3vypuSA5SJ/2WUHd8YJ5XLCR04wyapMoQkpxx4XaMQ7d+5cr05wz4vGls4d0+IYO1vehAHArbfcIk888TgUbapIq5Yt5JFHH5Onn3nWBbXPVWgXh8MI8YCA+iM6BFAp1GWBADpdAy0WdtP2b/GSpZ6KsotKNd8zz0pXZWXYDh07GqpP0sEi2UC7zKOBjtXgcEMXPeBJdeNnn3veC0taNA787rtxBqfwmlNOOSXAz6khkwg6Mqu+W6lS5YAww2FzgtOUDTZAA76TdjLUiJ0L5pPGoswbHWkzLNNzWKCjMlSdxVKD4TlmK1auNCM++dTzZzjaLAwcOBBqo6sMNrbNww8/bA3paKgJi36r9jz0gw8D4tAPWj9m6dKlBhu0BhbZNs6UKVPSVLEz5yMpKSlXcQhVXqwXVEt2WPAJhRADhQzz88+/mOqJiQF+NLDcB3XdcI7l/tzzLwTEKQ/VWhxIChub+ZmWHe2gRnwcHe6x4CO7mERSt1ah/nwK1X7WOYd5V6hKM026dwcP9r4zzEsvv2Jtw+bBTMCFf/fdd61a8969KWYUbM7cdz7/78X/ZVo+4fDS75kjwFGAukwQYAfbv/+TAZXx4YcfCTiYkA1k6rRpGToVVtznnn/ehu3fv38ADfph6m5w1EyG1GmvsnTZcgNNmQxxGC/Yot8vZEiMPPfqlX6IJeO4P9rqJNYIpHvvvfdaK2qmG4rPF154wbP637Vrt+nSJd0GwtHlkx0x7XxoL3Pe+T29NP1h3Du0tcxLr7xidkL4Ml3alpwVhq6LQyNUaKNZIZMVH+xMeHhkbuIQXF7s3P7+55+AwQN5xb6AzTtPdfCfeICZLoTxHCusMxQ6PhCHZchfzVrpdkwu73zSlgN7gQG4urIjL7TFigb3UDzwW0744CGX2cGE6WZVpu+8M8jm8elnn/UwJi5QlzZ39u1roAZtsaGAeeiRR6xNGRQizJy5cz3MOODhYOjee/9rGjVq5H3H7Nv8s3CRzTt5UZd7CKiQyQJLLFd4FdHf4CdMmODFZMPCmUkhwzEOZyD+uP53HjlDIeV3/M1ZzpRp002btm0DGtTxJ5xgR6z1fdbNwUKGxnB//v0PZlInmxJpx9awszsZM6BxEyaZE048MQM/sD9AB748w3fH6z/oTMkXR8w/zpoTMKpmo8Z5a+aDYcPsTIedxVJ0lrSmrlu3XgD/2GsynTp1NqPHfGMNFtkJ0PE0gkWYId53/wMQroneaBWqyqYxZjE8VWDx0mUQoHsi5GOzPT06OzhwxOzyHfz0lxfx4CkJQ97/IKDzpyC/BMfmzJ77c4YjcoiTG3n7y5zvpEfsps+YaY4//gTvCBTOgFl2Y78dF7bsaGXP0Xm0uAfzkBt8ZBeTSOoWTwTnKRs8zYH12G/gDDMCc+qpp5lnMRukcTAudrMDEqg9W/zYZoIHaPyNJU4z6fupdubLMlCXuwjofTLoRcI5VDjBaFhgeW6NtQw0o4pg85F7CjWxZ0IDsjisa1N9dG3SetkGjSieJOtcatgy1jgPx7R7NOjv6NSCajJtZbgv4XdMG1brgtEp1vy3YK15BdSYa0KfvxoOoCwjnU47TZYtXWqjQMgg7A6738EPjMt7PzCjsHFXQO2zXv161o6AqqWwcraaUEWgCs11cBp2cpOdm/Brk5IER9QI80oHASLlsGlaG2nToJRfd+EOkw3Jydhz2IBDBtdIrdq1rVEbjdkqxlew+ywQdLIVeGzZus1q8qyBEgSWfuzhnqRDQ0saVEL42XRQre1tj1u2bJWt27bbgyCpTMF9LvJXsWK8VMKTF3QRK3QFEfGRHRxo+4STBgJxSCv34PKCwLB53AgbqbVr1uIQ1D3SoEFDq8JL1WucTgCDwBTLLzWfmI9aqDt+w1wLQNp/AeWO/a5VK1dJPdh5cHOb2nargCP31fxlV69uHevHsuIGdjS4+9P2v2eXD9qOsSxZ7tFiQkPiSOoWlV62waCS9YT1DEujFo9E4Fq6ZCmJRx3kH+sKecGxSLIemn40/qXiBG99ZZuCgLIHmFZAm6iCust6Hqyd5sdE37OHgAqZTHBjBWVjo/YT1TqdY2OmXQs7O767MNRAC9gFRwTatNA4jdbufhqkRb8SsL53dBx99yRdLF1YA0fSLgphwk6ZHVvr1sfZE4otnSAhw2+WJ8Q9iAZ58NBBz9CMGkUUik5LifwzfWung/cDQXm19NP4dA2QHTxVjtnYLW3Y+9DojrzRYJM06cgn+Wda5N9hwVMCihdPtRGyAX3/pcYBXcSlajNtiYriJAR2QM7g0wWPhI9Y4OAvL38dYV5pCUOeeaoCw/EbebAOEpoYujJ3+Qh+evkCBsSBcYhtuLKjwPJjkx3cg3ng7+zykRNMvDQzqVuOPvPJdsV6wtEPDSltXbHPdCPTVJqp5cA2yIEg47B8GIfYsX5xwKgu9xFQIZP7mOY6RTYq/rFR0GFZxKpGcwTnHLW8aPEc7BjPOdf587f77v/mwkXzZAfq+AoXz6VF/2jSI22GjyROVnyE48F9jySNcPlz33OTFmk6enz38+e++78xTLBz4fg9q7DBcf2/w9Fx3zOjHUkYf1r+96zK1IWNNg2G5x/5zox3R1+fOUMgcI0mZ7Q0dowQYEPwd+S/42iWZCxX+R2vRA7lXEMKbkzue6g40Xzz8xUunksrmIdw4d130o40TlZ8hOPBfXdp5uSZm7TIh6PHp9+57/5vod5duOD4ocJm9i0cHfc9kriZhQnnl1WZuniR8OHC8snw0dQtf1x9jx4BnclEj1m+xliIs5uOPvro9CUYHze8jKktDmxUpwgoAopAQUFALf4LSklEwAen+FWrVhPYlKQrEWCQy5EZj7qpg6MzIl1iiCA5DaIIKAKKQI4R0JlMjiHMOwIUMtzs3InrkQ9hM9/vuJlO7RhqRqlTBBQBRaCgIKBCpqCURBR8cLZCgeN3bp3Z/03fFQFFQBHIbwRUyOR3CWj6ioAioAgUYgRUu6wQF65mTRFQBBSB/EZAhUx+l4CmrwgoAopAIUZAhUwhLlzNmiKgCCgC+Y2ACpn8LgFNXxFQBBSBQoyACplCXLiaNUVAEVAE8hsBFTL5XQKaviKgCCgChRgBFTKFuHA1a4qAIqAI5DcCKmTyuwQ0fUVAEVAECjECKmQKceFq1hQBRUARyG8EVMjkdwlo+oqAIqAIFGIEVMgU4sLVrCkCioAikN8IqJDJ7xLQ9BUBRUARKMQIqJApxIWrWVMEFAFFIL8RUCGT3yWg6SsCioAiUIgRUCFTiAtXs6YIKAKKQH4joEImv0tA01cEFAFFoBAjoEKmEBeuZk0RUAQUgfxGQIVMfpeApq8IKAKKQCFGQIVMIS5czZoioAgoAvmNgAqZ/C4BTV8RUAQUgUKMgAqZQly4mjVFQBFQBPIbARUy+V0Cmr4ioAgoAoUYARUyhbhwNWuKgCKgCOQ3Aipk8rsENH1FQBFQBAoxAipkCnHhatYUAUVAEchvBP4fgXXpmTHf8xsAAAAASUVORK5CYII=" alt="Portada"></p>
<h1 id="práctica-3-conectando-a-neo4j-desde-javascript-js" ebook-toc-level-1="" heading="Práctica 3. Conectando a Neo4J desde JavaScript (JS) ">Práctica 3. Conectando a Neo4J desde JavaScript (JS) </h1>
<br>
<p><img src="data:image/png;charset=utf-8;base64,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" alt="Portada"></p>
</center>
<hr>

<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#práctica-3-conectando-a-neo4j-desde-javascript-js" class="md-toc-link"><p>Práctica 3. Conectando a Neo4J desde JavaScript (JS)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#objetivos" class="md-toc-link">
            <p>Objetivos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#materiales-necesarios" class="md-toc-link">
            <p>Materiales necesarios</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#1-instalación-de-neo4j-javascript-driver" class="md-toc-link"><ol>
<li>Instalación de Neo4j JavaScript Driver</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#11-inicializar-el-proyecto" class="md-toc-link">
            <p>1.1 Inicializar el proyecto</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#2-conectando-con-neo4j" class="md-toc-link"><ol start="2">
<li>Conectando con Neo4J</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-conexión-a-la-base-de-datos" class="md-toc-link">
            <p>2.1 Conexión a la base de datos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#21-abriendo-una-sesión" class="md-toc-link">
            <p>2.1 Abriendo una sesión</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#3-ejecución-de-consultas" class="md-toc-link"><ol start="3">
<li>Ejecución de consultas</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#31-consulta-de-lectura-con-transacción" class="md-toc-link">
            <p>3.1 Consulta de lectura con transacción</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#32-consulta-de-lectura-con-promises" class="md-toc-link">
            <p>3.2 Consulta de lectura con Promises</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#32-consulta-de-escritura-con-transacción" class="md-toc-link">
            <p>3.2 Consulta de escritura con transacción</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#4-procesamiento-de-resultados" class="md-toc-link">
            <ol start="4">
<li>Procesamiento de resultados</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#5-procesamiento-de-streams" class="md-toc-link">
            <ol start="5">
<li>Procesamiento de streams</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#6-consultas-con-parámetros" class="md-toc-link">
            <ol start="6">
<li>Consultas con parámetros</li>
</ol>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#7-consultando-sin-transacciones" class="md-toc-link">
            <ol start="7">
<li>Consultando sin transacciones</li>
</ol>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#8-ejercicios-sobre-la-base-de-datos-de-marvel" class="md-toc-link"><ol start="8">
<li>Ejercicios sobre la base de datos de Marvel</li>
</ol>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#81-consulta-simple-a-la-base-de-datos" class="md-toc-link">
            <p>8.1 Consulta simple a la base de datos</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#82-escenario-con-transacción-y-simulación-de-fallo" class="md-toc-link">
            <p>8.2 Escenario con transacción y simulación de fallo</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#9-resumen-de-la-práctica" class="md-toc-link">
            <ol start="9">
<li>Resumen de la práctica</li>
</ol>

          </a></div>
        </div>
      </details>
    
</div>
<hr>
<h2 id="objetivos" ebook-toc-level-2="" heading="Objetivos ">Objetivos </h2>
<p>Esta es una práctica guiada de laboratorio que persigue que los 
estudiantes se familiaricen con el acceso a una base de datos de grafos 
desde JavaScript. En concreto usaremos Node.js.</p>
<h2 id="materiales-necesarios" ebook-toc-level-2="" heading="Materiales necesarios ">Materiales necesarios </h2>
<ul>
<li>Neo4J Desktop: Versión gratuita descargable desde <a href="https://neo4j.com/download">https://neo4j.com/download</a></li>
<li>Node.js 24.9.0: <a href="https://nodejs.org/en">https://nodejs.org/en</a></li>
<li>Ficheros de ejemplo estarán disponibles en el Aula Virtual: Recursos - Prácticas - p3-grafos.html</li>
</ul>
<p>En los siguientes ejercicios se asume que ya tenemos Neo4j Desktop y 
Node.js instalados. Se asume que tenemos lanzada la base de datos Neo4J y
 que tenemos como base de datos activa la de películas.</p>
<h2 id="1-instalación-de-neo4j-javascript-driver" ebook-toc-level-2="" heading="1.	Instalación de Neo4j JavaScript Driver ">1.	Instalación de Neo4j JavaScript Driver </h2>
<p>En esta práctica utilizaremos el driver oficial de Neo4J para 
trabajar con la base de datos utilizando JavaScript y Node.js. Así que 
lo primero que haremos será instalarlo usando npm (Node Package 
Manager).</p>
<p>Este gestor de paquetes se instala automáticamente con Node.js.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> neo4j-driver
</code></pre><p>La opción <strong>--save</strong> guarda una referencia al paquete en el archivo <em>package.json</em>.</p>
<h3 id="11-inicializar-el-proyecto" ebook-toc-level-3="" heading="1.1 Inicializar el proyecto ">1.1 Inicializar el proyecto </h3>
<p>Crearemos una carpeta para nuestro proyecto y desde dicha carpeta inicializaremos el proyecto</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre><h2 id="2-conectando-con-neo4j" ebook-toc-level-2="" heading="2. Conectando con Neo4J ">2. Conectando con Neo4J </h2>
<h3 id="21-conexión-a-la-base-de-datos" ebook-toc-level-3="" heading="2.1 Conexión a la base de datos ">2.1 Conexión a la base de datos </h3>
<p>Para conectar con Neo4J debemos en primer lugar cargar la librería <em>neo4j-driver</em>.
 Al igual que sucede con la conexión a bases de datos relacionales, para
 conectarnos tenemos que especificar la cadena de conexión, el usuario y
 la clave. En el siguiente código vemos que hemos optado por crear tres 
variables con los valores correspondientes.</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>var neo4j = require('neo4j-driver');
const host ='neo4j://localhost:7687'
const user='neo4j'
const password='xxxxxx'
</code></pre><p>Podemos ver que la cadena de conexión no empieza con 
http, sino con neo4J. Neo4j ofrece distintos protocolos de conexión a su
 base de datos, tal y como se explica en la Tabla 1. Estos depende tanto
 del tipo de certificado como del tipo de instancia desplegada.</p>
<p>Tabla 1. Protocolos a usar en función del tipo de certificado y el tipo de instancia Neo4J</p>
<table>
<thead>
<tr>
<th>Tipo de certificado</th>
<th>Cluster</th>
<th>Standalone</th>
<th>Parte de un cluster</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sin encriptar</td>
<td>neo4j</td>
<td>neo4j</td>
<td>bolt</td>
</tr>
<tr>
<td>Encriptado</td>
<td>neo4j +s</td>
<td>neo4j+s</td>
<td>bolt+s</td>
</tr>
<tr>
<td>+ Certificado autofirmado</td>
<td>neo4j+ssc</td>
<td>neo4j+ssc</td>
<td>bolt +ssc</td>
</tr>
<tr>
<td>AuraDB</td>
<td>neo4j+s</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p>A continuación vemos un ejemplo de función (<em>connectDatabase</em>) que se conecta a la base de datos y comprueba si la conexión ha sido exitosa. Crearemos un fichero <strong>myUtils.js</strong> donde escribiremos dicha función y lo probaremos.</p>
<ul>
<li>Se crea la conexión con <em>neo4j.driver</em></li>
<li>Se comprueba si el driver puede conectarse correctamente al servidor <em>driver.getServerInfo()</em></li>
<li>La función <em>console.log</em> muestra mensajes en la terminal</li>
</ul>
<p>En la mayoría de los casos, te conectarás al DBMS utilizando 
autenticación básica, que consiste en un nombre de usuario y una 
contraseña. Puedes crear un token de autenticación básica llamando al 
método basic() del objeto neo4j.auth.</p>
<p>Para instrucciones sobre otros métodos de autenticación puedes acceder <a href="https://neo4j.com/docs/operations-manual/current/">aquí</a> a la documentación oficial</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">connectDatabase</span><span class="token punctuation">(</span><span class="token parameter">host<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> driver <span class="token operator">=</span> neo4j<span class="token punctuation">.</span><span class="token method function property-access">driver</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> neo4j<span class="token punctuation">.</span><span class="token property-access">auth</span><span class="token punctuation">.</span><span class="token method function property-access">basic</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-try">try</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> serverInfo <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">getServerInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Conectado a:'</span><span class="token punctuation">,</span> serverInfo<span class="token punctuation">.</span><span class="token property-access">address</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-return">return</span> driver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error al conectar con Neo4j: '</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-if">if</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Causa:'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-throw">throw</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Podemos observar que como getServerInfo() es asíncrono, 
necesitamos un await para esperar el resultado de la operación. Además 
por tanto el resultado es una promesa. Una promesa en JavaScript es un 
objeto que representa el resultado futuro de una operación asíncrona, y 
puede estar en tres estados: pendiente, resuelta (si tuvo éxito) o 
rechazada (si ocurrió un error). Para trabajar con esa promesa 
necesitamos usar await, lo que permite que el flujo se detenga hasta que
 la promesa se resuelva o se rechace, y así podamos manejar el resultado
 dentro de un bloque try/catch. Si no usáramos await, la ejecución 
seguiría adelante sin esperar y el try/catch no atraparía los errores 
correctamente.</p>
<h3 id="21-abriendo-una-sesión" ebook-toc-level-3="" heading="2.1 Abriendo una sesión ">2.1 Abriendo una sesión </h3>
<p>Si bien no es obligatorio, es conveniente abrir una sesión de trabajo
 en la base de datos. No debemos confundir sesión con conexión. Una 
conexión abre un conjunto de conexiones TCP que pueden ser usadas por 
las sesiones. Una sesión debe ser vista como una abstracción del lado 
del cliente para agrupar el trabajo que realiza con la base de datos. Es
 el contexto de trabajo dentro de una conexión, donde se ejecutan las 
consultas y transacciones. Las sesiones son de corta duración y deben 
cerrarse cuando no se necesiten más.</p>
<p>Más informacion sobre <a href="https://neo4j.com/docs/api/javascript-driver/current/class/lib6/session.js~Session.html">sesiones en la API Neo4j</a>. Definiremos esta función en <strong>myUtils.js</strong>.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">openSession</span><span class="token punctuation">(</span><span class="token parameter">driver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> session <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token method function property-access">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">'neo4j'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Sesión iniciada"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-return">return</span> session<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">closeSession</span><span class="token punctuation">(</span><span class="token parameter">session</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-try">try</span><span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Sesión cerrada'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error al cerrar la sesión:'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Volveremos a probar nuestra conexión a la base de datos, pero esta vez crearemos una sesión.</p>
<h2 id="3-ejecución-de-consultas" ebook-toc-level-2="" heading="3. Ejecución de consultas ">3. Ejecución de consultas </h2>
<h3 id="31-consulta-de-lectura-con-transacción" ebook-toc-level-3="" heading="3.1 Consulta de lectura con transacción ">3.1 Consulta de lectura con transacción </h3>
<p>Una de las formas de ejecutar las consultas es mediante 
transacciones, que son unidades de trabajo en la base de datos con 
propiedades ACID (Atómica, Consistente, Aislada, Duradera).</p>
<p>En este ejemplo (<strong>consulta1-mydb.js</strong>) vamos a ver cómo
 podemos ejecutar en la base de datos Neo4j una consulta que nos obtenga
 10 nombres de personas. Crearemos un script denominado <em>consulta1-mydb.js</em></p>
<p>Para ello usaremos el método executeRead() de una sesión, el cual 
espera un único parámetro, una función que representa la unidad de 
trabajo. Esta función recibirá a su vez un único parámetro, un objeto 
Transaction, sobre el cual se puede invocar el método run() con dos 
argumentos: la sentencia Cypher como cadena de texto y un objeto 
opcional que contenga un conjunto de parámetros. Como resultado devuelve
 una promesa que en este caso es un objeto de tipo Result que contiene 
una array de filas (records), donde cada fila es un objeto Record. Cada 
Record tiene métodos para acceder a los valores de las columnas 
devueltas.</p>
<ul>
<li>La función <em>session.executeRead</em> representa una transacción 
de lectura en la base de datos: tx representa a la transacción. El 
método run permite la ejecución de la consulta.</li>
<li>La función está definida como asíncrona (<a href="https://www.w3schools.com/js/js_async.asp">async</a>), ya que requiere que se haga una pausa en la ejecución (<a href="https://www.w3schools.com/js/js_async.asp">await</a>) para poder obtener los resultados.</li>
<li>Vemos que se usa un bloque try-catch-finally para poder controlar los errores.</li>
<li>Si todo va bien al final cerramos la sesión y la conexión. Como de 
costumbre, estas dos acciones conviene hacerlas cuando ya no vamos a 
hacer más uso de la base de datos.</li>
<li>La función showElement representa qué procesamiento hacemos con cada resultado de la consulta</li>
</ul>
<p>Añadimos la función showElement a nuestro fichero <em>myUtils.js</em>, y el método de consulta en <em>node consulta1-mydb.js</em>. Desde la terminal podemos ejecutar el script escribiendo <em>node consulta1-mydb.js</em>.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">showElement</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consulta</span><span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span>queryText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> res <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">executeRead</span><span class="token punctuation">(</span><span class="token parameter">tx</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword control-flow keyword-return">return</span> tx<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>queryText<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// resultado es un array con los nombres devueltos por la consulta</span>
        <span class="token keyword keyword-const">const</span> resultados <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> row<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resultados<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span>myutils<span class="token punctuation">.</span><span class="token property-access">showElement</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error en la consulta'</span><span class="token punctuation">,</span>err<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Causa:'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-throw">throw</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
    
<span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-const">const</span> driver<span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> myutils<span class="token punctuation">.</span><span class="token method function property-access">connectDatabase</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> session <span class="token operator">=</span> myutils<span class="token punctuation">.</span><span class="token method function property-access">openSession</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow keyword-try">try</span><span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) RETURN p.name AS name LIMIT 10'</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-await">await</span> <span class="token function">consulta</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> myQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error en main:'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword control-flow keyword-finally">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Sesión cerrada'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Conexión cerrada'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="32-consulta-de-lectura-con-promises" ebook-toc-level-3="" heading="3.2 Consulta de lectura con Promises ">3.2 Consulta de lectura con Promises </h3>
<p>Otra manera de trabajar con los resultados en JavaScript es usando la API de Promesas<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises">Promise API</a>.
 Como se ha descrito antes, una promesa es un objeto que representa el 
resultado futuro de una operación asíncrona. Puede terminar en dos 
estados (resuelta o rechazada). Con una promesa podemos registrar qué 
hacer en cada caso usando .then() (éxito), .catch() (error) y .finally()
 (acciones de cierre).<br>
Una <em>promise</em> es algo similar a una promesa en el mundo real. 
Asegura que algo será realizado. Puede servir también para saber si un 
evento asíncrono se ha ejecutado con éxito o no y determina qué ocurre 
después del evento.</p>
<p>En los siguientes ejemplos usamos las Promises en combinación con async/await, pero hay que tener en cuenta que son <a href="https://www.geeksforgeeks.org/difference-between-promise-and-async-await-in-node-js/">dos conceptos diferentes</a>, y que async/await se podría ver como una mejora en legilidad para ejecutar Promises.</p>
<p>Crea el script (<strong>consulta2-mydb.js</strong>) y ejecuta las mismas operaciones que en el caso anterior, pero utilizando la sintaxis de promesas.</p>
<p>En nuestro caso vemos que solo tenemos puestas funciones para los casos de respuesta positiva y que tenemos puesto un <em>catch</em>
 para ocuparse de todos los errores de la misma forma. El primer .then()
 recibe el objeto Result de Neo4j (res) y lo transforma en algo más 
manejable, un array de nombres. El segundo .then() toma ese array ya 
transformado y realiza el procesamiento (en este caso, mostrar cada 
nombre por pantalla).<br>
De esta forma, cada paso de la cadena se ocupa de una tarea concreta: 
transformar / procesar. Aunque en este ejemplo el trabajo se reparte en 
dos .then(), también se podría hacer todo en uno solo. Sin embargo, 
dividirlo en dos .then() ayuda a hacer más legible el flujo de datos, ya
 que se separa claramente el momento de la transformación de resultados y
 el de su uso o procesamiento.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaPromises</span> <span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span> queryText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-return">return</span> session<span class="token punctuation">.</span><span class="token method function property-access">executeRead</span><span class="token punctuation">(</span><span class="token parameter">tx</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword control-flow keyword-return">return</span> tx<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>queryText<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword keyword-const">const</span> resultados <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> row<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword control-flow keyword-return">return</span> resultados <span class="token comment">// esto se convierte en el valor de la siguiente promesa</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">names</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            names<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span>myutils<span class="token punctuation">.</span><span class="token property-access">showElement</span><span class="token punctuation">)</span>
            <span class="token keyword control-flow keyword-return">return</span> names
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
            <span class="token keyword control-flow keyword-throw">throw</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) RETURN p.name AS name LIMIT 10'</span>
<span class="token keyword control-flow keyword-await">await</span> <span class="token function">consultaPromises</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> myQuery<span class="token punctuation">)</span>
</code></pre><h3 id="32-consulta-de-escritura-con-transacción" ebook-toc-level-3="" heading="3.2 Consulta de escritura con transacción ">3.2 Consulta de escritura con transacción </h3>
<p>Al igual que hemos hecho una consulta de lectura podremos ejecutar consultas de escritura a través de <em>executeWrite</em>. Crear el siguiente ejemplo (<strong>consulta3-mydb.js</strong>) en el que crearemos una función a la que le pasamos la consulta de inserción, y que hace lo siguiente:</p>
<ul>
<li>Ejecutar la consulta y devolver el resultado en la variable res</li>
<li>Como la consulta de inserción incluye el RETURN, nos va a devolver 
los datos creados, lo que nos sirve para comprobar que se han ejecutado.
 Devolvemos las propiedades del nodo generado. records[0] Nos devuelve 
la primera fila y .get('p') accede a la columna llamada p, que 
corresponde al alias usado en el RETURN. En este caso p es un objeto de 
tipo Node, con labels y properties.</li>
<li><em>consultaEscritura</em> es async, por lo que devuelve una promesa. El await espera el resultado.</li>
</ul>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaEscritura</span> <span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span>writeQueryText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> res <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">executeWrite</span><span class="token punctuation">(</span><span class="token parameter">tx</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword control-flow keyword-return">return</span> tx<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>writeQueryText<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>

        <span class="token keyword keyword-const">const</span> node <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-return">return</span> node<span class="token punctuation">.</span><span class="token property-access">properties</span>

    <span class="token punctuation">}</span><span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Error en la consulta de escritura:'</span><span class="token punctuation">,</span>e<span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-throw">throw</span> e
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword keyword-const">const</span> myQueryWrite<span class="token operator">=</span> <span class="token string">'CREATE (p:Person {name: \'Woody Allen\'}) RETURN p'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">consultaEscritura</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span>myQueryWrite<span class="token punctuation">)</span>
<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><p>También podría haber tratado la promesa de la siguiente manera, usando .then(), .catch(), .finally():</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code>        <span class="token function">consultaEscritura</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> myQueryWrite<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token keyword control-flow keyword-catch">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error en la consulta:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token keyword control-flow keyword-finally">finally</span><span class="token punctuation">(</span><span class="token keyword keyword-async">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Sesión y driver cerrados correctamente'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>.then() se ejecuta cuando la promesa se resuelve correctamente (similar al código después del await).<br>
.catch() captura los errores si la promesa se rechaza (equivalente al catch de try/catch).<br>
.finally() se ejecuta siempre, tanto si hubo éxito como si hubo error.</p>
<h2 id="4-procesamiento-de-resultados" ebook-toc-level-2="" heading="4. Procesamiento de resultados ">4. Procesamiento de resultados </h2>
<p>En el ejemplo de consulta de escritura del apartado 3.1 hemos 
realizado la consulta y el procesamiento de resultados dentro de la 
misma función. Nos puede interesar por regla general separar la 
ejecución de la consulta y la obtención de resultados del procesamiento 
de los mismos. En este ejercicio  vamos a explorar las opciones de 
procesamiento de resultados de la consulta.</p>
<p>Vamos a partir de una versión de la consulta del apartado 3.1 en el 
que solo ejecutamos la consulta y obtenemos el resultado en la variable <em>res</em>, la cual devolvemos. Crear un nuevo script denominado (<strong>consulta4-mydb.js</strong>) y añadir la siguiente función:</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaResultados</span><span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span>queryText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-const">const</span> res <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">executeRead</span><span class="token punctuation">(</span><span class="token parameter">tx</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span><span class="token keyword control-flow keyword-return">return</span> tx<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>queryText<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-return">return</span> res<span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Error en la consulta'</span><span class="token punctuation">,</span>err<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-if">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Causa:'</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token property-access">cause</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow keyword-throw">throw</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>La llamada de ejecución la haríamos de la siguiente forma, donde <em>myQuery</em> es la consulta que queremos ejecutar.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-const">const</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) RETURN p.name AS name LIMIT 10'</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">consultaResultados</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span>myQuery<span class="token punctuation">)</span>
<span class="token function">procesa</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><p>Veamos a continuación qué podemos hacer con los resultados de la consulta. El objeto datos (el Result de Neo4j) incluye:</p>
<ul>
<li>datos.records: array de resultados, por lo que con datos.records.length obtendríamos el número de registros / filas.</li>
<li>datos.summary: metadatos de ejecución de la consulta. Nos puede 
servir por ejemplo para saber el tiempo tardado en obtener el primer 
resultado (*resultsAvailableAfter) y el tiempo en poder usar los datos 
desde completarse la consulta (resultConsumedAfter). Para ver cómo 
cambia en el ejemplo siguiente, ejecutar el código eliminando en la 
consulta el LIMIT 10.</li>
<li><em>datos.summary.counters.updates()</em> nos permite saber qué cambios se han hecho en consultas que impliquen modificaciones de datos, índices, etc.</li>
</ul>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">procesa</span><span class="token punctuation">(</span><span class="token parameter">datos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Número de resultados obtenidos:"</span> <span class="token operator">+</span> datos<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> 
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Tiempo en el que el primer resultado estuvo disponible (ms):"</span> <span class="token operator">+</span> datos<span class="token punctuation">.</span><span class="token property-access">summary</span><span class="token punctuation">.</span><span class="token property-access">resultAvailableAfter</span><span class="token punctuation">)</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Tiempo desde completarse la consulta hasta que se empezaron a procesar resultados (ms):"</span> <span class="token operator">+</span> datos<span class="token punctuation">.</span><span class="token property-access">summary</span><span class="token punctuation">.</span><span class="token property-access">resultConsumedAfter</span><span class="token punctuation">)</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Actualizaciones realizadas tras la consulta:\n"</span><span class="token punctuation">,</span> datos<span class="token punctuation">.</span><span class="token property-access">summary</span><span class="token punctuation">.</span><span class="token property-access">counters</span><span class="token punctuation">.</span><span class="token method function property-access">updates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>Probamos el ejemplo anterior.</p>
<p>Una vez vista esa parte más relacionada con metadatos de la consulta,
 pasamos a procesar los resultados de la consulta. Crear un script 
denominado <strong>consulta5-mydb.js</strong>. En primer lugar vamos a 
ver cómo está estructurado un registro de resultados. Si mostramos por 
pantalla el contenido del primer registro  <em>console.log(datos.records[0])</em>, obtendríamos lo siguiente:</p>
<ul>
<li>keys: array de atributos recuperados</li>
<li>length: número de elementos</li>
<li>_fields: valores del registro para cada atributo</li>
</ul>
<pre data-role="codeBlock" data-info="yaml" class="language-yaml yaml"><code>Record <span class="token punctuation">{</span>
  <span class="token key atrule">keys</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'name'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> 
  <span class="token key atrule">length</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token key atrule">_fields</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'Keanu Reeves'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token key atrule">_fieldLookup</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Si cambiamos la consulta para obtener también el año de 
nacimiento, vemos que tenemos los dos campos que estamos buscando. Esta 
estructura será similar para cualquier registro de resultados.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-var">var</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) RETURN p.name AS name, p.born as born LIMIT 10'</span>

<span class="token maybe-class-name">Record</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">keys</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'born'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_fields</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'Keanu Reeves'</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Integer</span> <span class="token punctuation">{</span> <span class="token literal-property property">low</span><span class="token operator">:</span> <span class="token number">1964</span><span class="token punctuation">,</span> <span class="token literal-property property">high</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">_fieldLookup</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">born</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>Una vez visto esta estructura general podemos ir recuperando los campos que nos interesen.</p>
<p>En primer lugar vamos a suponer que nos interesa recuperar los 
nombres y que con los nombres vamos a hacer un procesamiento específico.
 Dentro de la función <em>procesa</em> podríamos incluir el siguiente código.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code>resultados <span class="token operator">=</span> datos<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> row<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
resultados<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span>myutils<span class="token punctuation">.</span><span class="token property-access">showElement</span><span class="token punctuation">)</span>
</code></pre><p>Como records es un array podemos aplicar la función map 
para aplicar la función que definimos a continuación. En este caso lo 
que hacemos es recuperar el valor de la key 'name' para cada registro de
 resultado en <em>row.get('name')</em>.</p>
<p>Todos los nombres vienen a guardarse en el array <em>resultados</em>. <em>forEach</em> permite aplicar la función que aparece entre paréntesis <em>showElement</em> en este caso a cada elemento de ese array, por tanto, a cada nombre.</p>
<p>Por simplicidad, en este caso la función solo muestra por pantalla el nombre del resultado.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">showElement</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>A continuación vamos a mostrar el nombre y año de nacimiento para cada actor. Para ello necesitaremos una función auxiliar <em>showRecord</em> y obtener de los registros los valores de <em>name</em> y <em>born</em>.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">showRecord</span><span class="token punctuation">(</span><span class="token parameter">rec</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rec<span class="token punctuation">.</span><span class="token property-access">nombre</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">  *******  Año de nacimiento: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rec<span class="token punctuation">.</span><span class="token property-access">year</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword keyword-const">const</span> resultados <span class="token operator">=</span> datos<span class="token punctuation">.</span><span class="token property-access">records</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">row</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> nombre <span class="token operator">=</span> row<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
  <span class="token keyword keyword-const">const</span> born <span class="token operator">=</span> row<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'born'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token keyword keyword-const">const</span> year <span class="token operator">=</span> <span class="token keyword keyword-typeof">typeof</span> born<span class="token operator">?.</span>toNumber <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> born<span class="token punctuation">.</span><span class="token method function property-access">toNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> born<span class="token punctuation">;</span> 
  <span class="token keyword control-flow keyword-return">return</span> <span class="token punctuation">{</span> nombre<span class="token punctuation">,</span> year <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
resultados<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span>showRecord<span class="token punctuation">)</span>
</code></pre><p>Cuando en Cypher devuelves un número (por ejemplo 
p.born), el driver oficial de Neo4j en JavaScript no devuelve un number 
normal de JS, sino un objeto especial llamado Neo4j Integer.<br>
Ese objeto tiene métodos como .toNumber() o .toInt() para convertirlo en un number de JavaScript.<br>
La expresión born?.toNumber utiliza encadenamiento opcional (?.) para 
comprobar si el objeto born tiene definida la propiedad toNumber. Si 
born es un Neo4j Integer, esta propiedad existe; si en cambio es un 
número normal de JavaScript o null, no existe. A continuación, con 
typeof born?.toNumber === 'function' se verifica que dicha propiedad sea
 efectivamente una función y, por tanto, que se pueda invocar. 
Finalmente, el operador ternario (condición ? valorSiVerdadero : 
valorSiFalso) decide qué devolver: si born dispone de .toNumber(), se 
llama a este método para convertir el entero de Neo4j en un number de 
JavaScript; de lo contrario, simplemente se devuelve el valor original 
de born.</p>
<h2 id="5-procesamiento-de-streams" ebook-toc-level-2="" heading="5. Procesamiento de streams ">5. Procesamiento de streams </h2>
<p>En los ejercicios anteriores hemos usado funciones asíncronas con 
promesas. Esta forma de consultar y procesar la información requiere 
haber obtenido todos los datos antes de empezar el procesamiento. En 
ocasiones podemos tener consultas complejas que van a tardar algún 
minuto en completarse y no podemos estar esperando. Seguro que habéis 
buscado vuelos u hoteles en algunas web y no todos aparecen a la vez, 
sino que van a apareciendo conforme se van encontrando.</p>
<p>Neo4j ofrece una API para procesamiento de streams, que se fundamenta en el método <em>subscribe()</em>. Este método permite definir distintos manejadores de eventos:</p>
<ul>
<li>onKeys: Se llama cuando se reciben las claves de la consulta. Las 
claves son los nombres de las columnas devueltas por la consulta</li>
<li>onNext: Se llama cada vez que se recibe un registro (una fila de datos)</li>
<li>onError: Se llama si ocurre algún error durante la ejecución de la consulta</li>
<li>onCompleted: Se llama cuando la consulta ha terminado de procesar todos los registros</li>
</ul>
<p>El siguiente ejemplo (<strong>consulta6-mydb.js</strong>) es una 
variación de la consulta anterior, a la que vamos a quitar el límite 
para que el número de registros a mostrar sea más alto.</p>
<p>A continuación vemos la función central del procesamiento. Cuando un nuevo registro está disponible se activa <em>onNext</em>.
 Lo que hacemos en ese momento es ejecutar la función showRecord, a la 
que le pasamos el nombre de los dos campos que vamos a mostrar.</p>
<p>Una vez se procesan todos los registros, se activa <em>onCompleted</em>,
 en el que mostramos el tiempo transcurrido hasta obtener el primer 
resultado y desde que se obtiene el último hasta que se puede usar, como
 en casos anteriores, así como cerramos la conexión a la base de datos.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaStream</span><span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span>queryText</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        session<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>queryText<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
         <span class="token function-variable function">onKeys</span><span class="token operator">:</span> <span class="token parameter">keys</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
           <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Claves de las columnas:"</span><span class="token punctuation">,</span>keys<span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token function-variable function">onNext</span><span class="token operator">:</span> <span class="token parameter">record</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> 
            <span class="token keyword keyword-const">const</span> name <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
            <span class="token keyword keyword-const">const</span> born <span class="token operator">=</span> record<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'born'</span><span class="token punctuation">)</span>
            <span class="token function">showRecord</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> born<span class="token punctuation">)</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token function-variable function">onCompleted</span><span class="token operator">:</span> <span class="token keyword keyword-async">async</span><span class="token punctuation">(</span><span class="token parameter">summary</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Tiempo en el que el primer resultado estuvo disponible (ms):"</span> <span class="token operator">+</span> summary<span class="token punctuation">.</span><span class="token property-access">resultAvailableAfter</span><span class="token punctuation">)</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Tiempo desde completarse la consulta hasta que se empezaron a procesar resultados (ms):"</span> <span class="token operator">+</span> summary<span class="token punctuation">.</span><span class="token property-access">resultConsumedAfter</span><span class="token punctuation">)</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>summary<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token function-variable function">onError</span><span class="token operator">:</span> <span class="token keyword keyword-async">async</span> <span class="token parameter">error</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">"Error durante la ejecución de la consulta:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>A continuación mostramos el detalle de la función showRecord de la consulta que hacemos.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-function">function</span> <span class="token function">showRecord</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> born</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword keyword-const">const</span> year <span class="token operator">=</span> <span class="token keyword keyword-typeof">typeof</span> born<span class="token operator">?.</span>toNumber <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">?</span> born<span class="token punctuation">.</span><span class="token method function property-access">toNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> born<span class="token punctuation">;</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Nombre: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">  *******  Año de nacimiento: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
  
<span class="token keyword keyword-const">const</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) WHERE p.born IS NOT NULL RETURN p.name AS name, p.born as born'</span>
<span class="token keyword control-flow keyword-await">await</span> <span class="token function">consultaStream</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span>myQuery<span class="token punctuation">)</span>
</code></pre><h2 id="6-consultas-con-parámetros" ebook-toc-level-2="" heading="6.	Consultas con parámetros ">6.	Consultas con parámetros </h2>
<p>Hasta ahora hemos estado trabajando con consultas en las que no hemos usado variables como parámetros. En este ejercicio (<strong>consulta7-mydb.js</strong>) vamos a ver cómo podemos parametrizar la consulta.</p>
<p>Por consulta parametrizada entendemos una consulta como la siguiente,
 en la que la lista de valores aceptados para el año de nacimiento 
tendrán que proporcionarse más adelante a través de una variable. En 
este caso vamos a usar la variable <em>myparam</em> que tiene los valores 1932 y 1953. A la función que ejecutará la consulta le pasamos la consulta y la variable con los valores.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-var">var</span> myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) WHERE p.born IN $yearParam RETURN p.name AS name, p.born as born'</span>
<span class="token keyword keyword-var">var</span> myparam <span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1932</span><span class="token punctuation">,</span> <span class="token number">1953</span><span class="token punctuation">]</span>
<span class="token function">consultaParam</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span>myQuery<span class="token punctuation">,</span> myparam<span class="token punctuation">)</span>
</code></pre><p>A continuación mostramos la parte de la función que cambiaría con respecto al ejercicio anterior. En el mismo, a la función <em>run</em> solo le pasábamos la consulta, ahora tendremos que pasarle los parámetros. Vemos como para <em>yearParam</em>
 (variable usada en la consulta) le asignamos la variable que hemos 
pasado como parámetro. Al ejecutar la consulta, solo obtendremos 
personas nacidas en 1932 o 1953.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaStreamParam</span> <span class="token punctuation">(</span><span class="token parameter">session<span class="token punctuation">,</span>queryText<span class="token punctuation">,</span> myparam</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow keyword-await">await</span> session<span class="token punctuation">.</span><span class="token method function property-access">run</span><span class="token punctuation">(</span>queryText<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">yearParam</span><span class="token operator">:</span> myparam<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token spread operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><h2 id="7-consultando-sin-transacciones" ebook-toc-level-2="" heading="7. Consultando sin transacciones ">7. Consultando sin transacciones </h2>
<p>Hasta ahora hemos ejecutado las consultas a través de las funciones <em>executeRead</em> y <em>executeWrite</em>,
 que lanzaban la consulta como una transacción. Además dichas 
transacciones se ejecutaban dentro de una sesión que previamente 
habíamos creado. Una forma alternativa para realizar las consultas es a 
través de la función <em>driver.executeQuery</em>, que permite lanzar 
directamente una consulta sin necesidad de gestionar manualmente una 
sesión o transacción. Este método abre internamente una sesión temporal,
 ejecuta la consulta y la cierra automáticamente. Este enfoque resulta 
práctico cuando no necesitas combinar varias operaciones en una misma 
transacción, quieres escribir consultas rápidas y sencillas y prefieres 
no preocuparte por abrir/cerrar sesiones.</p>
<p>Vamos a ver a continuación (<strong>consulta8-mydb.js</strong>) cómo podríamos realizar la consulta del ejercicio anterior de esta manera.</p>
<p>Este primer bloque de código se corresponde con la inicialización y la llamada a la función que va a ejecutar la consulta (<em>consultaSinTransaccion</em>) y a la función que va a procesar los resultados (<em>procesa</em>).</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code>cons driver<span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> myutils<span class="token punctuation">.</span><span class="token method function property-access">connectDatabase</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> user<span class="token punctuation">,</span>password<span class="token punctuation">)</span>
cons myQuery<span class="token operator">=</span> <span class="token string">'MATCH (p:Person) WHERE p.born IN $yearParam RETURN p.name AS name, p.born as born'</span>
cons myparam <span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1932</span><span class="token punctuation">,</span> <span class="token number">1953</span><span class="token punctuation">]</span>
<span class="token keyword keyword-const">const</span> result <span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> <span class="token function">consultaSinTransaccion</span><span class="token punctuation">(</span>driver<span class="token punctuation">,</span>myQuery<span class="token punctuation">,</span>myparam<span class="token punctuation">)</span>
<span class="token function">procesa</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><p>A continuación vemos la función que ejecuta la 
operación. Vemos que los parámetros son similares a los que hemos visto 
en consultas anteriores, pero que también podemos especificar a qué base
 de datos queremos lanzar la consulta. La función <em>procesa</em> es similar a la de ejercicios anteriores.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword keyword-async">async</span> <span class="token keyword keyword-function">function</span> <span class="token function">consultaSinTransaccion</span><span class="token punctuation">(</span><span class="token parameter">driver<span class="token punctuation">,</span>queryText<span class="token punctuation">,</span>myparam</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-let">let</span> datos
    <span class="token keyword control-flow keyword-try">try</span> <span class="token punctuation">{</span>
        datos<span class="token operator">=</span> <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">executeQuery</span><span class="token punctuation">(</span>queryText<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">yearParam</span><span class="token operator">:</span> myparam<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">'neo4j'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> 
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-catch">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">"Error ejecutando la consulta:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
        <span class="token keyword control-flow keyword-throw">throw</span> error
    <span class="token punctuation">}</span> <span class="token keyword control-flow keyword-finally">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow keyword-await">await</span> driver<span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">"Conexión cerrada correctamente."</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow keyword-return">return</span> datos
<span class="token punctuation">}</span>
</code></pre><p>Habréis notado que en este caso no creamos una sesión. Cuando se usa <em>executeQuery</em>
 no es necesario gestionar manualmente las sesiones ya que internamente 
el controlador abre una sesión temporal. Si no estás combinando 
múltiples consultas en una sola transacción este enfoque es más 
sencillo. Sin embargo, si quieres ejecutar varias consultas en la misma 
transacción (por ejemplo, crear y relacionar nodos de forma atómica), 
sería mejor el enfoque anterior, usando transacciones dentro de una 
sesión.</p>
<h2 id="8-ejercicios-sobre-la-base-de-datos-de-marvel" ebook-toc-level-2="" heading="8.	Ejercicios sobre la base de datos de Marvel ">8.	Ejercicios sobre la base de datos de Marvel </h2>
<h3 id="81-consulta-simple-a-la-base-de-datos" ebook-toc-level-3="" heading="8.1 Consulta simple a la base de datos ">8.1 Consulta simple a la base de datos </h3>
<p>Hasta ahora hemos hecho siempre las consultas contra la base de datos
 de películas. A continuación consultaréis la base de datos de Marvel.<br>
La consulta consiste en obtener los nombres de los héroes (podéis probar
 con cualquier otra), los cuales mostraremos por pantalla a través de la
 función <em>procesa</em>, que es similar a ejercicios anteriores.</p>
<h3 id="82-escenario-con-transacción-y-simulación-de-fallo" ebook-toc-level-3="" heading="8.2 Escenario con transacción y simulación de fallo ">8.2 Escenario con transacción y simulación de fallo </h3>
<p>Crearemos un héroe que relacionaremos con uno existente a través de la relación <em>CO_STAR</em>.
 Tenéis que simular un fallo tras la creación del héroe, de manera que 
no sea posible relacionarlo con el héroe existente y se reviertan los 
cambios.<br>
Para simular el error podéis lanzar una excepción.</p>
<pre data-role="codeBlock" data-info="javascript" class="language-javascript javascript"><code><span class="token keyword control-flow keyword-throw">throw</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Simulación de error para rollback"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="9-resumen-de-la-práctica" ebook-toc-level-2="" heading="9.	Resumen de la práctica ">9.	Resumen de la práctica </h2>
<p>En esta práctica hemos visto los fundamentos de cómo usar Neo4j desde
 Javascript. Hemos trabajado la conexión a la base de datos, la 
ejecución de consultas de lectura y escritura, el uso de transacciones, 
el procesamiento completo de los resultados de una consulta y su 
alternativa en streaming. Hemos podido apreciar que la forma de usar 
Neo4J desde un lenguaje de programación no es muy distinto del uso de 
bases de datos relacionales.</p>
</div>
    </div>
  

</body></html>